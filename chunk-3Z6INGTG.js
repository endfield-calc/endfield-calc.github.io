import{a as X,b as Y}from"./chunk-4JW25AJN.js";import{a as Q,b as W,e as oe}from"./chunk-OJNX24TA.js";import{a as ae,b as re}from"./chunk-ELDE5FHZ.js";import{b as U}from"./chunk-DXI34DIB.js";import"./chunk-VMZXARM2.js";import"./chunk-ZIHYRGBU.js";import{a as te,b as ie}from"./chunk-6BWFF7IN.js";import"./chunk-HBZST4KB.js";import{b as G,d as M,t as N}from"./chunk-IKG7E7QE.js";import{b as ne}from"./chunk-NWTNAOA4.js";import{f as Z,g as ee}from"./chunk-4HZJOXX2.js";import{e as $,f as J,h as K}from"./chunk-PALPLS2E.js";import"./chunk-MSUQM2TQ.js";import"./chunk-N4UWURB2.js";import{f as D,g as H}from"./chunk-VQIDGXUM.js";import{n as j,t as F}from"./chunk-CZJX5KEH.js";import"./chunk-VCOKZHWX.js";import{$ as u,Ab as l,Ba as h,Ea as c,Ed as T,Ia as y,Ja as C,Jc as k,Kd as L,Oa as r,Pa as s,Pd as z,Qa as f,S as v,T as I,Ua as x,Va as g,Wa as d,Zb as O,_,bd as q,db as w,eb as b,fb as S,ic as P,kc as R,lc as E,ma as B,pb as V,qa as o,vd as A,zb as p}from"./chunk-CY5KPGOB.js";import"./chunk-TWZW5B45.js";function pe(t,m){if(t&1&&(r(0,"div",19),f(1,"i",20),p(2,"iconSmClass"),r(3,"span",21),b(4),p(5,"translate"),s()()),t&2){let e=d(2);o(),y(l(2,3,e.data().info.icon)),o(3),S(l(5,5,e.data().info.label))}}function le(t,m){if(t&1&&(r(0,"div",19),f(1,"i"),p(2,"iconSmClass"),r(3,"span",21),b(4),p(5,"translate"),s()()),t&2){let e=m;o(),y(l(2,3,e.icon)),o(3),S(l(5,5,e.label))}}function se(t,m){if(t&1&&h(0,le,6,7,"div",19),t&2){let e,i=m.$implicit,n=d(2);C((e=n.gameInfo[i.value])?0:-1,e)}}function de(t,m){if(t&1){let e=x();r(0,"p-dropdown",22),g("onChange",function(n){_(e);let a=d(2);return u(a.setMod(n.value))}),s()}if(t&2){let e=d(2);c("filter",!0)("autofocusFilter",!e.contentSvc.isMobile())("ngModel",e.modId())("options",e.modOptions())}}function ce(t,m){t&1&&f(0,"p-divider")}function me(t,m){if(t&1){let e=x();r(0,"span",14)(1,"span",23),f(2,"i",24),s(),r(3,"p-dropdown",25),p(4,"translate"),g("onChange",function(n){_(e);let a=d(2);return u(a.setState(a.states()[n.value]))}),s()()}if(t&2){let e=d(2);o(3),c("placeholder",l(4,2,"landing.loadSavedState"))("options",e.stateOptions())}}function _e(t,m){if(t&1){let e=x();r(0,"button",26),p(1,"translate"),g("click",function(){let n=_(e),a=d(2);return u(a.router.navigateByUrl(n))}),s()}t&2&&c("label",l(1,1,"landing.loadLastState"))}function ue(t,m){if(t&1){let e=x();r(0,"p-card")(1,"div",3)(2,"div",4),f(3,"img",5),p(4,"translate"),s(),f(5,"div",6),p(6,"translate"),r(7,"p-dropdown",7),g("onChange",function(n){_(e);let a=d();return u(a.setGame(n.value))}),h(8,pe,6,7,"ng-template",8)(9,se,1,1,"ng-template",9),s(),h(10,de,1,4,"p-dropdown",10),r(11,"button",11),p(12,"translate"),g("click",function(){_(e);let n=w(16),a=d();return u(n.clickOpen("item",a.settings().availableItemIds))}),s(),r(13,"button",12),p(14,"translate"),g("click",function(){_(e);let n=w(19),a=d();return u(n.clickOpen("recipe",a.settings().availableRecipeIds))}),s(),r(15,"lab-picker",13,0),p(17,"translate"),g("selectId",function(n){_(e);let a=d();return u(a.selectItem(n))}),s(),r(18,"lab-picker",13,1),p(20,"translate"),g("selectId",function(n){_(e);let a=d();return u(a.selectRecipe(n))}),s(),h(21,ce,1,0,"p-divider")(22,me,5,4,"span",14)(23,_e,2,3,"button",15),f(24,"p-divider")(25,"button",16),p(26,"translate"),f(27,"button",17),p(28,"translate"),r(29,"p-checkbox",18),p(30,"translate"),g("onChange",function(n){_(e);let a=d();return u(a.preferencesSvc.apply({bypassLanding:n.checked}))}),s()()()}if(t&2){let e,i=d();o(3),c("alt",l(4,17,"app.name")),o(2),c("innerHTML",l(6,19,"landing.welcome"),B),o(2),c("ngModel",i.data().game)("options",i.gameOptions),o(3),C(i.data().flags.has("mods")?10:-1),o(),c("label",l(12,21,"landing.addItems")),o(2),c("label",l(14,23,"landing.addMachines")),o(2),c("header",l(17,25,"landing.selectAnItem")),o(3),c("header",l(20,27,"landing.selectARecipe")),o(3),C(i.stateOptions().length||i.routerSvc.stored()?21:-1),o(),C(i.stateOptions().length?22:-1),o(),C((e=i.routerSvc.stored())?23:-1,e),o(2),c("label",l(26,29,"landing.help")),o(2),c("label",l(28,31,"landing.skip")),o(2),c("binary",!0)("label",l(30,33,"landing.bypass"))("ngModel",i.preferencesSvc.state().bypassLanding)}}function fe(t,m){t&1&&f(0,"p-progressSpinner")}var We=(()=>{class t{constructor(){this.router=v(R),this.route=v(P),this.contentSvc=v(G),this.objectivesSvc=v(N),this.preferencesSvc=v(A),this.routerSvc=v(U),this.settingsSvc=v(z),this.modId=this.settingsSvc.modId,this.mod=this.settingsSvc.mod,this.data=this.settingsSvc.dataset,this.settings=this.settingsSvc.settings,this.states=this.settingsSvc.modStates,this.stateOptions=this.settingsSvc.stateOptions,this.modOptions=this.settingsSvc.modOptions,this.gameInfo=L,this.gameOptions=q}selectItem(e){this.objectivesSvc.create({targetId:e,value:k.one,unit:T.Items,type:M.Output}),this.router.navigate(["list"],{relativeTo:this.route,queryParamsHandling:"preserve"})}selectRecipe(e){this.objectivesSvc.create({targetId:e,value:k.one,unit:T.Machines,type:M.Output}),this.router.navigate(["list"],{relativeTo:this.route,queryParamsHandling:"preserve"})}setState(e){e&&this.router.navigate(["list"],{queryParams:this.routerSvc.toParams(e),relativeTo:this.route})}setGame(e){this.setMod(L[e].modId)}setMod(e){this.router.navigate([e])}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275cmp=I({type:t,selectors:[["lab-landing"]],standalone:!0,features:[V],decls:5,vars:4,consts:[["addItemPicker",""],["addRecipePicker",""],[1,"position-absolute","bottom-0","mb-3"],[1,"d-flex","flex-column"],[1,"d-flex","justify-content-center"],["src","factoriolab.webp?v=2","height","128","width","128",3,"alt"],[1,"mt-2",3,"innerHTML"],["styleClass","my-2 w-100","scrollHeight","260px",3,"onChange","ngModel","options"],["pTemplate","selectedItem"],["pTemplate","item"],["styleClass","mb-2 w-100",3,"filter","autofocusFilter","ngModel","options"],["pButton","","pRipple","","type","button","icon","fa-solid fa-box",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-industry",1,"mt-2",3,"click","label"],[3,"selectId","header"],[1,"p-inputgroup"],["pButton","","pRipple","","type","button","icon","fa-solid fa-clock-rotate-left",1,"mt-2",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-question","routerLink","wizard","queryParamsHandling","preserve",1,"mt-2","p-button-help",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-forward","routerLink","list","queryParamsHandling","preserve",1,"mt-2","mb-3","p-button-outlined",3,"label"],[3,"onChange","binary","label","ngModel"],[1,"d-flex","align-items-center"],[1,"mx-1"],[1,"ms-3"],["styleClass","mb-2 w-100",3,"onChange","filter","autofocusFilter","ngModel","options"],[1,"p-inputgroup-addon"],[1,"fa-solid","fa-file-import"],["styleClass","w-100",3,"onChange","placeholder","options"],["pButton","","pRipple","","type","button","icon","fa-solid fa-clock-rotate-left",1,"mt-2",3,"click","label"]],template:function(i,n){i&1&&(h(0,ue,31,35,"p-card")(1,fe,1,0,"p-progressSpinner"),r(2,"span",2),b(3),p(4,"async"),s()),i&2&&(C(n.mod()!=null?0:1),o(3),S(l(4,2,n.contentSvc.version$)))},dependencies:[O,K,$,J,E,H,D,j,W,Q,ie,te,Y,X,ee,Z,re,ae,ne,oe,F],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh}"],changeDetection:0})}}return t})();export{We as LandingComponent};
