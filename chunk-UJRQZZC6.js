import{a as wt,b as Mt,c as ai,d as si}from"./chunk-YYVXIQG6.js";import{a as Vt,b as Ft,c as jt,d as Ht,e as Nt}from"./chunk-4RJKHXKR.js";import{a as $t}from"./chunk-YYMWG7WG.js";import{a as _n,b as gn}from"./chunk-NJAA4E6E.js";import{a as fn,b as hn,c as Kt,d as Cn,e as In,f as Sn,g as Tn}from"./chunk-J66BJMGS.js";import{a as it}from"./chunk-T6CDZOHL.js";import{b as pn}from"./chunk-GXZWK6BU.js";import{a as un,d as at,f as st}from"./chunk-SZWFVH3S.js";import"./chunk-GJAUI2PQ.js";import{a as nt,b as ot}from"./chunk-SZ5JGITD.js";import{a as et,b as Ae}from"./chunk-KLLSQCUX.js";import{b as me,d as Pe,e as an,r as ln,s as ct,t as tt}from"./chunk-IXLZIGM3.js";import{a as vn,b as xn}from"./chunk-PDO7ZKDW.js";import{a as bn,b as yn,g as Qt}from"./chunk-5MA3WRZB.js";import{a as Ut,b as qt}from"./chunk-LQ7JWOAA.js";import{a as ri}from"./chunk-KDBVOSUW.js";import"./chunk-JMH5WO6Y.js";import{a as zt,b as Re}from"./chunk-D5WTUWMQ.js";import{e as dt,f as Dt,g as At}from"./chunk-6BPK26BV.js";import{a as cn,b as Pt,d as dn,e as we,f as ue,g as mn,h as Me,i as Rt,j as Lt}from"./chunk-EPRW5GBD.js";import{a as _e,b as Q,c as pi}from"./chunk-KNSUQCOB.js";import{c as Je,d as Ee,f as Be,g as ii,h as Oe}from"./chunk-E2UXUI3O.js";import{a as ji,b as Tt,d as Ye,e as De,f as de,g as $,h as ni,i as oi}from"./chunk-FVTG5UFD.js";import{b as It,c as St,h as Fi,i as Di,j as Ai,k as Xe,l as Ri,n as F,o as ne,q as D,r as Li,t as q}from"./chunk-GQAVQ4YK.js";import{a as sn,b as rn,c as Ot}from"./chunk-QYWBLUQO.js";import{$ as b,$a as J,$b as ie,Aa as se,Ab as m,Ad as Zi,Ba as f,Bb as te,Cb as wi,Cd as Gi,D as He,Da as k,Db as P,Dd as Xi,Ea as p,Ed as Yi,Fd as Ke,Ga as K,Ha as fe,Ia as T,Ib as pe,Id as Ji,Ja as I,Jb as N,Ka as Jt,Kb as $e,Kc as Ni,Kd as en,La as Fe,Lb as ye,Ld as tn,Ma as j,Mc as oe,N as Ue,Na as H,Nb as Ct,Nd as nn,Oa as a,Od as on,P as X,Pa as r,Pd as Bt,Qa as C,Qb as ti,Qc as li,Qd as ae,Ra as W,S as w,Sa as Z,Sb as ce,T as V,Ta as L,Tb as vt,U as Y,Ua as y,Ub as ke,V as vi,Va as g,W as ht,Wa as c,Xa as ei,Xb as Ie,Xc as kt,Ya as bt,Yb as he,Za as re,Zb as xt,_ as h,_a as lt,_b as Mi,ab as ee,ac as Ze,ad as Se,ba as qe,bb as yi,bd as $i,cb as Ii,db as S,ea as A,eb as _,ed as Ki,fb as x,fc as ki,g as hi,gb as E,gc as Ei,hb as Si,hd as Ui,ib as Ce,id as qi,ja as be,jb as ve,jc as Bi,ka as Xt,kb as xe,l as rt,ld as Qi,m as bi,ma as ze,mc as Oi,na as Ne,nc as Pi,ob as Ti,oc as yt,pb as U,pc as Vi,pd as Wi,qa as o,qb as z,r as Ci,ra as B,rb as O,sb as le,tb as pt,ua as Yt,vc as Ge,wc as Hi,wd as Te,xa as Qe,xc as zi,xd as Et,ya as xi,za as We,zb as d}from"./chunk-VWE6SOOG.js";import{j as fi}from"./chunk-TWZW5B45.js";var ci=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Y({type:t});static \u0275inj=X({imports:[ie,Ge,De,Q,bn,ne,Ge,Q,ne]})}return t})();var wn=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Y({type:t});static \u0275inj=X({imports:[ie,$,ci,Tt,dt,$,ci]})}return t})();var Xn=(t,l)=>l.href;function Yn(t,l){if(t&1){let e=y();a(0,"button",8),d(1,"translate"),g("click",function(){h(e);let i=c();return b(i.contentSvc.toggleSettingsXl())}),r()}t&2&&p("label",m(1,1,"settings.header"))}function Jn(t,l){if(t&1&&(a(0,"li")(1,"a",9),C(2,"button",10),d(3,"translate"),r()()),t&2){let e=l.$implicit;o(),p("href",e.href,Ne),o(),p("icon",e.icon)("label",m(3,3,e.label))}}var Mn=(()=>{class t{constructor(){this.title=w(ki),this.contentSvc=w(me),this.objectivesSvc=w(tt),this.preferencesSvc=w(Te),this.settingsSvc=w(ae),this.translateSvc=w(Se),this.sticky=!1,this.settingsXlHidden=!1,this.gameInfo=this.settingsSvc.gameInfo,this.appName=Bi(this.translateSvc.get("app.name")),this.links=[{label:"header.source",icon:"fa-brands fa-github",href:"https://github.com/endfield-calc/factoriolab/"},{label:"header.yituliu",icon:"fa-solid fa-home",href:"https://ef.yituliu.cn/"}],Ct(()=>{let e=this.objectivesSvc.baseObjectives(),n=this.settingsSvc.dataset(),i=e.map(u=>nn(u)?n.recipeEntities[u.targetId]?.name:n.itemEntities[u.targetId]?.name).find(u=>u!=null),s=this.appName()??zi;this.title.setTitle(i!=null?`${i} | ${s}`:s)})}cancelRouterLink(e){e.preventDefault(),e.stopPropagation()}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=V({type:t,selectors:[["lab-header"]],hostVars:4,hostBindings:function(n,i){n&2&&K("sticky",i.sticky)("settings-xl-hidden",i.settingsXlHidden)},inputs:{sticky:"sticky",settingsXlHidden:"settingsXlHidden"},standalone:!0,features:[U],decls:15,vars:18,consts:[["pButton","","pRipple","","type","button","icon","fa-solid fa-bars",1,"d-inline-flex","d-none","d-xl-flex","p-button-lg","p-button-text","settings-button","me-3",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-bars",1,"d-inline-flex","d-xl-none","p-button-lg","p-button-text","settings-button",3,"click","label"],[1,"d-none","d-sm-flex","p-inputgroup","w-auto"],[3,"routerLink"],["type","button","pButton","","pRipple","","tooltipPosition","bottom",1,"p-button-lg","p-button-text","icon-btn-lg",3,"icon","label","pTooltip"],[1,"d-sm-none",3,"routerLink"],["type","button","pButton","","text","",1,"p-button-lg","icon-btn-lg",3,"icon"],[1,"header-menu","mb-1","mb-xl-0","px-0","px-sm-4","px-xl-0"],["pButton","","pRipple","","type","button","icon","fa-solid fa-bars",1,"d-inline-flex","d-none","d-xl-flex","p-button-lg","p-button-text","settings-button","me-3",3,"click","label"],["target","_blank",1,"w-100",3,"href"],["pButton","","pRipple","","type","button",1,"p-button-text","p-button-secondary","p-button-sm","d-flex","justify-content-center","w-100",3,"icon","label"]],template:function(n,i){n&1&&(f(0,Yn,2,3,"button",0),a(1,"button",1),d(2,"translate"),g("click",function(){return i.contentSvc.toggleSettings()}),r(),a(3,"div",2)(4,"a",3),C(5,"button",4),d(6,"iconSmClass"),d(7,"translate"),d(8,"translate"),r()(),a(9,"a",5),C(10,"button",6),d(11,"iconSmClass"),r(),a(12,"ul",7),j(13,Jn,4,5,"li",null,Xn),r()),n&2&&(I(i.contentSvc.settingsXlHidden()?0:-1),o(),p("label",m(2,8,"settings.header")),o(3),p("routerLink",i.gameInfo().route),o(),p("icon",m(6,10,i.gameInfo().icon))("label",m(7,12,i.gameInfo().label))("pTooltip",m(8,14,"app.resetTooltip")),o(4),p("routerLink",i.gameInfo().route),o(),p("icon",m(11,16,i.gameInfo().icon)),o(3),H(i.links))},dependencies:[yt,$,de,wn,_e,Q,Re,q],styles:["[_nghost-%COMP%]{display:flex;position:fixed;top:0;left:320px;align-items:center;transition:all .4s cubic-bezier(.05,.74,.2,.99);transition-property:width,left;z-index:2;padding:0 1.5rem;width:calc(100% - 320px);height:4rem}.sticky[_nghost-%COMP%]{background-color:var(--header-sticky-color);-webkit-backdrop-filter:blur(12px);backdrop-filter:blur(12px)}@media (max-width: 1199.98px){[_nghost-%COMP%]{left:0;flex-wrap:wrap;justify-content:space-between;width:100vw;height:6rem}}@media (max-width: 575.98px){[_nghost-%COMP%]{padding:0 .25rem}}@media (min-width: 1200px){.settings-xl-hidden[_nghost-%COMP%]{left:0;width:100%}}.header-menu[_ngcontent-%COMP%]{display:flex;margin:0 0 0 auto}.header-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}.header-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin-left:.5rem}@media (max-width: 1199.98px){.header-menu[_ngcontent-%COMP%]{justify-content:space-between;width:100%}.header-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{width:25%}.header-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%] + li[_ngcontent-%COMP%]{margin:0}}@media (max-width: 575.98px){.header-menu[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{width:33%}}[_nghost-%COMP%]     .p-tieredmenu{right:0;left:unset!important}a[_ngcontent-%COMP%]{text-decoration:none}"],changeDetection:0})}}return t})();var eo=(t,l)=>({showTransitionParams:t,hideTransitionParams:l}),to=t=>({value:"visible",params:t});function io(t,l){if(t&1&&C(0,"span"),t&2){let e=c().$implicit;T("p-message-icon pi "+e.icon),k("data-pc-section","icon")}}function no(t,l){t&1&&C(0,"CheckIcon"),t&2&&k("data-pc-section","icon")}function oo(t,l){t&1&&C(0,"InfoCircleIcon"),t&2&&k("data-pc-section","icon")}function ao(t,l){t&1&&C(0,"TimesCircleIcon"),t&2&&k("data-pc-section","icon")}function so(t,l){t&1&&C(0,"ExclamationTriangleIcon"),t&2&&k("data-pc-section","icon")}function ro(t,l){if(t&1&&(a(0,"span",10),W(1),f(2,no,1,1,"CheckIcon",11)(3,oo,1,1,"InfoCircleIcon",11)(4,ao,1,1,"TimesCircleIcon",11)(5,so,1,1,"ExclamationTriangleIcon",11),Z(),r()),t&2){let e=c().$implicit;o(2),p("ngIf",e.severity==="success"),o(),p("ngIf",e.severity==="info"),o(),p("ngIf",e.severity==="error"),o(),p("ngIf",e.severity==="warn")}}function lo(t,l){if(t&1&&C(0,"span",14),t&2){let e=c(2).$implicit;p("innerHTML",e.summary,ze),k("data-pc-section","summary")}}function po(t,l){if(t&1&&C(0,"span",15),t&2){let e=c(2).$implicit;p("innerHTML",e.detail,ze),k("data-pc-section","detail")}}function co(t,l){if(t&1&&(W(0),f(1,lo,1,2,"span",12)(2,po,1,2,"span",13),Z()),t&2){let e=c().$implicit;o(),p("ngIf",e.summary),o(),p("ngIf",e.detail)}}function mo(t,l){if(t&1&&(a(0,"span",18),_(1),r()),t&2){let e=c(2).$implicit;k("data-pc-section","summary"),o(),x(e.summary)}}function uo(t,l){if(t&1&&(a(0,"span",19),_(1),r()),t&2){let e=c(2).$implicit;k("data-pc-section","detail"),o(),x(e.detail)}}function _o(t,l){if(t&1&&f(0,mo,2,2,"span",16)(1,uo,2,2,"span",17),t&2){let e=c().$implicit;p("ngIf",e.summary),o(),p("ngIf",e.detail)}}function go(t,l){if(t&1){let e=y();a(0,"button",20),g("click",function(){h(e);let i=c().index,s=c(2);return b(s.removeMessage(i))}),C(1,"TimesIcon",21),r()}if(t&2){let e=c(3);k("aria-label",e.closeAriaLabel)("data-pc-section","closebutton"),o(),p("styleClass","p-message-close-icon"),k("data-pc-section","closeicon")}}function fo(t,l){if(t&1&&(a(0,"div",5)(1,"div",6),f(2,io,1,3,"span",7)(3,ro,6,4,"span",8)(4,co,3,2,"ng-container",3)(5,_o,2,2,"ng-template",null,1,P)(7,go,2,4,"button",9),r()()),t&2){let e,n=l.$implicit,i=S(6),s=c(2);T("p-message p-message-"+n.severity),p("@messageAnimation",O(13,to,le(10,eo,s.showTransitionOptions,s.hideTransitionOptions))),o(),k("data-pc-section","wrapper")("id",n.id||null),o(),p("ngIf",n.icon),o(),p("ngIf",!n.icon),o(),p("ngIf",!s.escape)("ngIfElse",i),o(3),p("ngIf",s.closable&&((e=n.closable)!==null&&e!==void 0?e:!0))}}function ho(t,l){if(t&1&&(W(0),f(1,fo,8,15,"div",4),Z()),t&2){let e=c();o(),p("ngForOf",e.messages)}}function bo(t,l){t&1&&L(0)}function Co(t,l){if(t&1&&(a(0,"div",22)(1,"div",6),f(2,bo,1,0,"ng-container",23),r()()),t&2){let e=c();p("ngClass","p-message p-message-"+e.severity),o(2),p("ngTemplateOutlet",e.contentTemplate)}}var En=(()=>{class t{messageService;el;cd;config;set value(e){this.messages=e,this.startMessageLifes(this.messages)}closable=!0;style;styleClass;enableService=!0;key;escape=!0;severity;showTransitionOptions="300ms ease-out";hideTransitionOptions="200ms cubic-bezier(0.86, 0, 0.07, 1)";valueChange=new A;onClose=new A;templates;messages;messageSubscription;clearSubscription;timerSubscriptions=[];contentTemplate;constructor(e,n,i,s){this.messageService=e,this.el=n,this.cd=i,this.config=s}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;default:this.contentTemplate=e.template;break}}),this.messageService&&this.enableService&&!this.contentTemplate&&(this.messageSubscription=this.messageService.messageObserver.subscribe(e=>{if(e){Array.isArray(e)||(e=[e]);let n=e.filter(i=>this.key===i.key);this.messages=this.messages?[...this.messages,...n]:[...n],this.startMessageLifes(n),this.cd.markForCheck()}}),this.clearSubscription=this.messageService.clearObserver.subscribe(e=>{e?this.key===e&&(this.messages=null):this.messages=null,this.cd.markForCheck()}))}hasMessages(){let e=this.el.nativeElement.parentElement;return e&&e.offsetParent?this.contentTemplate!=null||this.messages&&this.messages.length>0:!1}clear(){this.messages=[],this.valueChange.emit(this.messages)}removeMessage(e){let n=this.messages[e];this.messages=this.messages?.filter((i,s)=>s!==e),n&&this.onClose.emit(n),this.valueChange.emit(this.messages)}get icon(){let e=this.severity||(this.hasMessages()?this.messages[0].severity:null);if(this.hasMessages())switch(e){case"success":return"pi-check";case"info":return"pi-info-circle";case"error":return"pi-times";case"warn":return"pi-exclamation-triangle";default:return"pi-info-circle"}return null}get closeAriaLabel(){return this.config.translation.aria?this.config.translation.aria.close:void 0}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.timerSubscriptions?.forEach(e=>e.unsubscribe())}startMessageLifes(e){e?.forEach(n=>n.life&&this.startMessageLife(n))}startMessageLife(e){let n=Ci(e.life).subscribe(()=>{this.messages=this.messages?.filter(i=>i!==e),this.timerSubscriptions=this.timerSubscriptions?.filter(i=>i!==n),this.valueChange.emit(this.messages),this.cd.markForCheck()});this.timerSubscriptions.push(n)}static \u0275fac=function(n){return new(n||t)(B(Di,8),B(be),B(pe),B(Xe))};static \u0275cmp=V({type:t,selectors:[["p-messages"]],contentQueries:function(n,i,s){if(n&1&&re(s,F,4),n&2){let u;J(u=ee())&&(i.templates=u)}},hostAttrs:[1,"p-element"],inputs:{value:"value",closable:[2,"closable","closable",N],style:"style",styleClass:"styleClass",enableService:[2,"enableService","enableService",N],key:"key",escape:[2,"escape","escape",N],severity:"severity",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{valueChange:"valueChange",onClose:"onClose"},features:[se],decls:4,vars:8,consts:[["staticMessage",""],["escapeOut",""],["role","alert",1,"p-messages","p-component",3,"ngStyle"],[4,"ngIf","ngIfElse"],["role","alert",3,"class",4,"ngFor","ngForOf"],["role","alert"],[1,"p-message-wrapper"],[3,"class",4,"ngIf"],["class","p-message-icon",4,"ngIf"],["class","p-message-close p-link","type","button","pRipple","",3,"click",4,"ngIf"],[1,"p-message-icon"],[4,"ngIf"],["class","p-message-summary",3,"innerHTML",4,"ngIf"],["class","p-message-detail",3,"innerHTML",4,"ngIf"],[1,"p-message-summary",3,"innerHTML"],[1,"p-message-detail",3,"innerHTML"],["class","p-message-summary",4,"ngIf"],["class","p-message-detail",4,"ngIf"],[1,"p-message-summary"],[1,"p-message-detail"],["type","button","pRipple","",1,"p-message-close","p-link",3,"click"],[3,"styleClass"],["role","alert",3,"ngClass"],[4,"ngTemplateOutlet"]],template:function(n,i){if(n&1&&(a(0,"div",2),f(1,ho,2,1,"ng-container",3)(2,Co,3,2,"ng-template",null,0,P),r()),n&2){let s=S(3);T(i.styleClass),p("ngStyle",i.style),k("aria-atomic",!0)("aria-live","assertive")("data-pc-name","message"),o(),p("ngIf",!i.contentTemplate)("ngIfElse",s)}},dependencies:()=>[ce,vt,ke,he,Ie,Ye,oi,si,ri,ai,ni],styles:[`@layer primeng{.p-message-wrapper{display:flex;align-items:center}.p-message-close{display:flex;align-items:center;justify-content:center;flex:none}.p-message-close.p-link{margin-left:auto;overflow:hidden;position:relative}.p-messages .p-message.ng-animating{overflow:hidden}}
`],encapsulation:2,data:{animation:[Je("messageAnimation",[Oe(":enter",[Be({opacity:0,transform:"translateY(-25%)"}),Ee("{{showTransitionParams}}")]),Oe(":leave",[Ee("{{hideTransitionParams}}",Be({height:0,marginTop:0,marginBottom:0,marginLeft:0,marginRight:0,opacity:0}))])])]},changeDetection:0})}return t})(),Bn=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Y({type:t});static \u0275inj=X({imports:[ie,De,oi,si,ri,ai,ni,ne,ne]})}return t})();var xo=(t,l,e)=>({"p-togglebutton p-button p-component":!0,"p-button-icon-only":t,"p-highlight":l,"p-disabled":e}),yo=(t,l)=>({"p-button-icon":!0,"p-button-icon-left":t,"p-button-icon-right":l}),Io=t=>({$implicit:t});function So(t,l){if(t&1&&C(0,"span",4),t&2){let e=c(2);T(e.checked?e.onIcon:e.offIcon),p("ngClass",le(4,yo,e.iconPos==="left",e.iconPos==="right")),k("data-pc-section","icon")}}function To(t,l){if(t&1&&f(0,So,1,7,"span",3),t&2){let e=c();p("ngIf",e.onIcon||e.offIcon)}}function wo(t,l){t&1&&L(0)}function Mo(t,l){if(t&1&&f(0,wo,1,0,"ng-container",5),t&2){let e=c();p("ngTemplateOutlet",e.iconTemplate)("ngTemplateOutletContext",O(2,Io,e.checked))}}function ko(t,l){if(t&1&&(a(0,"span",6),_(1),r()),t&2){let e=c();k("data-pc-section","label"),o(),x(e.checked?e.hasOnLabel?e.onLabel:"":e.hasOffLabel?e.offLabel:"")}}var Eo={provide:cn,useExisting:Ue(()=>mi),multi:!0},mi=(()=>{class t{cd;onLabel;offLabel;onIcon;offIcon;ariaLabel;ariaLabelledBy;disabled;style;styleClass;inputId;tabindex=0;iconPos="left";autofocus;onChange=new A;templates;iconTemplate;checked=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(e){this.cd=e}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"icon":this.iconTemplate=e.template;break;default:this.iconTemplate=e.template;break}})}toggle(e){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.onModelTouched(),this.onChange.emit({originalEvent:e,checked:this.checked}),this.cd.markForCheck())}onKeyDown(e){switch(e.code){case"Enter":this.toggle(e),e.preventDefault();break;case"Space":this.toggle(e),e.preventDefault();break}}onBlur(){this.onModelTouched()}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get hasOnLabel(){return this.onLabel&&this.onLabel.length>0}get hasOffLabel(){return this.onLabel&&this.onLabel.length>0}static \u0275fac=function(n){return new(n||t)(B(pe))};static \u0275cmp=V({type:t,selectors:[["p-toggleButton"]],contentQueries:function(n,i,s){if(n&1&&re(s,F,4),n&2){let u;J(u=ee())&&(i.templates=u)}},hostAttrs:[1,"p-element"],inputs:{onLabel:"onLabel",offLabel:"offLabel",onIcon:"onIcon",offIcon:"offIcon",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:[2,"disabled","disabled",N],style:"style",styleClass:"styleClass",inputId:"inputId",tabindex:[2,"tabindex","tabindex",$e],iconPos:"iconPos",autofocus:[2,"autofocus","autofocus",N]},outputs:{onChange:"onChange"},features:[Ti([Eo]),se],decls:4,vars:17,consts:[["role","switch","pRipple","","pAutoFocus","",3,"click","keydown","ngClass","ngStyle","autofocus"],[3,"class","ngClass"],["class","p-button-label",4,"ngIf"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-button-label"]],template:function(n,i){n&1&&(a(0,"div",0),g("click",function(u){return i.toggle(u)})("keydown",function(u){return i.onKeyDown(u)}),f(1,To,1,1,"span",1)(2,Mo,1,4,"ng-container")(3,ko,2,2,"span",2),r()),n&2&&(T(i.styleClass),p("ngClass",pt(13,xo,i.onIcon&&i.offIcon&&!i.hasOnLabel&&!i.hasOffLabel,i.checked,i.disabled))("ngStyle",i.style)("autofocus",i.autofocus),k("tabindex",i.disabled?null:i.tabindex)("aria-checked",i.checked)("aria-labelledby",i.ariaLabelledBy)("aria-label",i.ariaLabel)("data-pc-name","togglebutton")("data-pc-section","root"),o(),I(i.iconTemplate?2:1),o(2),p("ngIf",i.onLabel||i.offLabel))},dependencies:[ce,ke,he,Ie,Ye,ji],styles:['@layer primeng{.p-button[_ngcontent-%COMP%]{margin:0;display:inline-flex;cursor:pointer;-webkit-user-select:none;user-select:none;align-items:center;vertical-align:bottom;text-align:center;overflow:hidden;position:relative}.p-button-label[_ngcontent-%COMP%]{flex:1 1 auto}.p-button-icon-right[_ngcontent-%COMP%]{order:1}.p-button[_ngcontent-%COMP%]:disabled{cursor:default;pointer-events:none}.p-button-icon-only[_ngcontent-%COMP%]{justify-content:center}.p-button-icon-only[_ngcontent-%COMP%]:after{content:"p";visibility:hidden;clip:rect(0 0 0 0);width:0}.p-button-vertical[_ngcontent-%COMP%]{flex-direction:column}.p-button-icon-bottom[_ngcontent-%COMP%]{order:2}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]{margin:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:focus, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:focus   .p-button[_ngcontent-%COMP%]{position:relative;z-index:1}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover, .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child), .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:last-child):hover, .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:last-child)   .p-button[_ngcontent-%COMP%]:hover{border-right:0 none}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:not(:first-of-type):not(:last-of-type)   .p-button[_ngcontent-%COMP%]{border-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:first-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.p-button-group[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-button-group[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%], .p-buttonset[_ngcontent-%COMP%]   .p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type), .p-buttonset[_ngcontent-%COMP%]   p-button[_ngcontent-%COMP%]:last-of-type:not(:only-of-type)   .p-button[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}p-button[iconpos=right][_ngcontent-%COMP%]   spinnericon[_ngcontent-%COMP%]{order:1}}'],changeDetection:0})}return t})(),On=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Y({type:t});static \u0275inj=X({imports:[ie,De,ne,Tt,ne]})}return t})();function Fo(t,l){if(t&1&&(a(0,"span",26),_(1),r()),t&2){let e=c(2).$implicit,n=c();o(),x(n.data().recipeEntities[e.targetId].name)}}function Do(t,l){if(t&1){let e=y();a(0,"button",24),d(1,"translate"),g("click",function(){h(e);let i=S(8),s=c().$implicit,u=c();return b(i.clickOpen("recipe",u.settings().availableRecipeIds,s.targetId))}),a(2,"i",25),d(3,"iconSmClass"),a(4,"span"),_(5),r()(),f(6,Fo,2,1,"span",26),r(),a(7,"lab-picker",17,4),d(9,"translate"),g("selectId",function(i){h(e);let s=c().$implicit,u=c();return b(u.objectivesSvc.updateEntity(s.id,{targetId:i,machineId:void 0,modules:void 0,beacons:void 0,overclock:void 0}))}),r()}if(t&2){let e=c().$implicit,n=c();p("pTooltip",m(1,6,"objectives.selectARecipe")),o(2),T(te(3,8,e.targetId,"recipe")),o(3),E("#",e.id,""),o(),I(n.contentSvc.isMobile()?-1:6),o(),p("header",m(9,11,"objectives.selectARecipe"))}}function Ao(t,l){if(t&1){let e=y();a(0,"button",27),d(1,"iconSmClass"),d(2,"translate"),g("click",function(){h(e);let i=S(4),s=c().$implicit,u=c();return b(i.clickOpen("item",u.settings().availableItemIds,s.targetId))}),r(),a(3,"lab-picker",17,5),d(5,"translate"),g("selectId",function(i){h(e);let s=c().$implicit,u=c();return b(u.objectivesSvc.updateEntity(s.id,{targetId:i,machineId:void 0,modules:void 0,beacons:void 0,overclock:void 0}))}),r()}if(t&2){let e=c().$implicit,n=c();p("icon",m(1,4,e.targetId))("label",n.contentSvc.isMobile()?"":n.data().itemEntities[e.targetId].name)("pTooltip",m(2,6,"objectives.selectAnItem")),o(3),p("header",m(5,8,"objectives.selectAnItem"))}}function Ro(t,l){if(t&1){let e=y();a(0,"p-dropdown",22),d(1,"translate"),g("onChange",function(i){h(e);let s=c().$implicit,u=c(),v=S(23),M=S(26);return b(u.changeUnit(s,i.value,v,M))}),r()}if(t&2){let e=c().$implicit,n=c();p("pTooltip",m(1,3,"objectives.unitTooltip"))("options",n.unitOptions())("ngModel",e.unit)}}function Lo(t,l){if(t&1){let e=y();a(0,"div",18),C(1,"button",19),f(2,Do,10,13)(3,Ao,6,10),a(4,"lab-input-number",20),d(5,"translate"),d(6,"translate"),d(7,"translate"),g("setValue",function(i){let s=h(e).$implicit,u=c();return b(u.objectivesSvc.updateEntity(s.id,{value:i}))}),r(),f(8,Ro,2,5,"p-dropdown",21),a(9,"p-dropdown",22),d(10,"translate"),g("onChange",function(i){let s=h(e).$implicit,u=c();return b(u.objectivesSvc.updateEntity(s.id,{type:i.value}))}),r(),a(11,"button",23),d(12,"translate"),g("click",function(){let i=h(e).$implicit,s=c();return b(s.objectivesSvc.remove(i.id))}),r()()}if(t&2){let e=l.$implicit,n=c();o(2),I(e.unit===n.ObjectiveUnit.Machines?2:3),o(2),p("pTooltip",e.type===n.ObjectiveType.Maximize?n.maximizeType()===n.MaximizeType.Weight?m(5,9,"objectives.valueWeightTooltip"):m(6,11,"objectives.valueRatioTooltip"):m(7,13,"objectives.valueTooltip"))("hideButtons",n.contentSvc.isMobile())("value",e.value),o(4),I(e.type!==n.ObjectiveType.Maximize?8:-1),o(),p("pTooltip",m(10,15,"objectives.typeTooltip"))("options",n.objectiveTypeOptions)("ngModel",e.type),o(2),p("pTooltip",m(12,17,"objectives.removeTooltip"))}}function jo(t,l){if(t&1&&C(0,"lab-tooltip",34),t&2){let e=c(2);p("id",e)}}function Ho(t,l){if(t&1){let e=y();a(0,"div")(1,"div",29)(2,"span",30),_(3),d(4,"translate"),r(),C(5,"i",31),d(6,"iconSmClass"),a(7,"span",32),_(8),r(),f(9,jo,1,1,"ng-template",null,6,P),r(),a(11,"button",33),d(12,"translate"),g("click",function(){h(e);let i=c(),s=c();return b(s.objectivesSvc.add({targetId:i,unit:s.ObjectiveUnit.Machines,type:s.ObjectiveType.Limit}))}),r()()}if(t&2){let e=S(10),n=c(),i=c();o(3),x(m(4,6,"objectives.errorSimplexUnboundedRecipe")),o(2),T(te(6,8,n,"recipe")),p("pTooltip",e),o(3),x(i.data().recipeEntities[n].name),o(3),p("label",m(12,11,"objectives.errorSimplexUnboundedAddRecipeLimit"))}}function zo(t,l){t&1&&(a(0,"p-messages",16),f(1,Ho,13,13,"ng-template",28),r())}function No(t,l){if(t&1&&C(0,"p-messages",35),t&2){let e=c();p("value",e)("closable",!1)("escape",!1)}}function $o(t,l){t&1&&f(0,No,1,3,"p-messages",35),t&2&&I(l.length?0:-1)}function Ko(t,l){if(t&1&&(f(0,$o,1,1),d(1,"async")),t&2){let e,n=c();I((e=m(1,1,n.messages()))?0:-1,e)}}var Pn=(()=>{class t{constructor(){this.contentSvc=w(me),this.itemsSvc=w(sn),this.objectivesSvc=w(tt),this.preferencesSvc=w(Te),this.rateSvc=w(ln),this.recipesSvc=w(Ot),this.settingsSvc=w(ae),this.trackSvc=w(Cn),this.translateSvc=w(Se),this.result=this.objectivesSvc.matrixResult,this.itemsState=this.itemsSvc.settings,this.beltSpeed=this.settingsSvc.beltSpeed,this.dispRateInfo=this.settingsSvc.displayRateInfo,this.maximizeType=this.settingsSvc.maximizeType,this.unitOptions=this.settingsSvc.objectiveUnitOptions,this.data=this.recipesSvc.adjustedDataset,this.settings=this.settingsSvc.settings,this.convertObjectiveValues=this.preferencesSvc.convertObjectiveValues,this.paused=this.preferencesSvc.paused,this.objectives=ye(()=>[...this.objectivesSvc.objectives()]),this.messages=ye(()=>{let e=this.objectivesSvc.objectives(),n=this.objectivesSvc.matrixResult(),i=this.settingsSvc.settings();return this.getMessages(e,n,i)}),this.objectiveTypeOptions=an,this.displayRateOptions=Et,this.MaximizeType=Xi,this.ObjectiveUnit=Ke,this.ObjectiveType=Pe}getMessages(e,n,i){if(n.resultType===ct.Paused)return this.translateSvc.get("objectives.pausedMessage").pipe(rt(s=>[{severity:"info",detail:s}]));if(n.resultType!==ct.Failed)return hi;if(n.simplexStatus==="unbounded"){let s=e.filter(u=>u.type===Pe.Maximize);return s.length&&e.every(u=>u.type!==Pe.Limit)?this.buildErrorMessages("objectives.errorUnbounded","objectives.errorNoLimits",n):s.some(u=>u.unit===Ke.Machines?i.excludedRecipeIds.has(u.targetId):i.excludedItemIds.has(u.targetId))?this.buildErrorMessages("objectives.errorUnbounded","objectives.errorMaximizeExcluded",n):this.buildErrorMessages("objectives.errorUnbounded","objectives.errorUnboundedDetail",n)}else return n.simplexStatus==="no_feasible"?this.buildErrorMessages("objectives.errorInfeasible","objectives.errorInfeasibleDetail",n):this.buildErrorMessages("objectives.error","objectives.errorDetail",n)}buildErrorMessages(e,n,i){return bi([this.translateSvc.get(e),this.translateSvc.get(n),this.translateSvc.get("objectives.errorSimplexInfo",{returnCode:i.returnCode??"unknown",simplexStatus:i.simplexStatus??"unknown"})]).pipe(rt(([s,u,v])=>[{severity:"error",summary:s,detail:`${u} ${v}`}]))}changeUnit(e,n,i,s){let u=this.data();if(n===Ke.Machines){if(e.unit!==Ke.Machines){let v=u.itemRecipeIds[e.targetId],M=R=>{this.convertItemsToMachines(e,R,u)};v.length===1?M(v[0]):(s.selectId.pipe(He()).subscribe(R=>{M(R)}),s.clickOpen("recipe",v))}}else if(e.unit===Ke.Machines&&u.adjustedRecipe[e.targetId]){let v=Array.from(u.adjustedRecipe[e.targetId].produces),M=R=>{this.convertMachinesToItems(e,R,n,u)};v.length===1?M(v[0]):(i.selectId.pipe(He()).subscribe(R=>{M(R)}),i.clickOpen("item",v))}else this.convertItemsToItems(e,e.targetId,n,u)}convertItemsToMachines(e,n,i){if(this.objectivesSvc.updateEntity(e.id,{targetId:n,unit:Ke.Machines}),!this.convertObjectiveValues()||e.type===Pe.Maximize)return;let s=this.itemsState(),u=this.beltSpeed(),v=this.dispRateInfo(),M=this.rateSvc.objectiveNormalizedRate(e,s,u,v,i),R=i.adjustedRecipe[n],ge=M.div(R.output[e.targetId]);this.objectivesSvc.updateEntity(e.id,{value:ge})}convertMachinesToItems(e,n,i,s){if(this.objectivesSvc.updateEntity(e.id,{targetId:n,unit:i}),!this.convertObjectiveValues()||e.type===Pe.Maximize||e.recipe==null)return;let u=this.itemsState(),v=this.beltSpeed(),M=this.dispRateInfo(),R=this.rateSvc.objectiveNormalizedRate({id:"",targetId:n,value:oe.one,unit:i,type:Pe.Output},u,v,M,s),Le=e.value.mul(e.recipe.output[n]).div(R);this.objectivesSvc.updateEntity(e.id,{value:Le})}convertItemsToItems(e,n,i,s){if(this.objectivesSvc.updateEntity(e.id,{targetId:n,unit:i}),!this.convertObjectiveValues()||e.type===Pe.Maximize)return;let u=this.itemsState(),v=this.beltSpeed(),M=this.dispRateInfo(),R=this.rateSvc.objectiveNormalizedRate(e,u,v,M,s),ge=this.rateSvc.objectiveNormalizedRate({id:"",targetId:n,value:oe.one,unit:i,type:Pe.Output},u,v,M,s),Le=R.div(ge);this.objectivesSvc.updateEntity(e.id,{value:Le})}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=V({type:t,selectors:[["lab-objectives"]],standalone:!0,features:[U],decls:28,vars:35,consts:[["addItemPicker",""],["addRecipePicker",""],["chooseItemPicker",""],["chooseRecipePicker",""],["editRecipePicker",""],["editItemPicker",""],["tooltip",""],[3,"header"],[1,"objectives-content"],[3,"onReorder","value","dragdrop","trackBy"],["pTemplate","item"],[1,"objectives-buttons","d-flex","flex-wrap","mt-2"],["pButton","","pRipple","","type","button","icon","fa-solid fa-box","tooltipPosition","top",1,"flex-grow-1","p-button-outlined",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-industry","tooltipPosition","top",1,"flex-grow-1","p-button-outlined",3,"click","label"],["labDropdownTranslate","","styleClass","h-100",3,"onChange","pTooltip","ngModel","options"],["offIcon","fa-solid fa-pause",3,"onChange","ngModel","onIcon","pTooltip"],["severity","warn","styleClass","mt-2"],[3,"selectId","header"],[1,"p-inputgroup"],["pButton","","pRipple","","type","button","icon","fa-solid fa-grip-lines",1,"p-button-outlined","border-end-0","cursor-grab"],["labNoDrag","","tooltipPosition","top",3,"setValue","pTooltip","hideButtons","value"],["labDropdownTranslate","","labNoDrag","","tooltipPosition","top",3,"pTooltip","options","ngModel"],["labDropdownTranslate","","labNoDrag","","tooltipPosition","top",3,"onChange","pTooltip","options","ngModel"],["pButton","","pRipple","","labNoDrag","","type","button","icon","fa-solid fa-xmark","tooltipPosition","left",1,"p-button-outlined",3,"click","pTooltip"],["pButton","","pRipple","","labNoDrag","","type","button","tooltipPosition","top",1,"p-button-outlined","lab-button-icon-only","text-truncate",3,"click","pTooltip"],[1,"p-button-icon"],[1,"p-button-label"],["labNoDrag","","pButton","","pRipple","","type","button","tooltipPosition","top",1,"p-button-outlined","text-truncate",3,"click","icon","label","pTooltip"],["pTemplate",""],[1,"d-flex","align-items-center"],[1,"me-3"],[3,"pTooltip"],[1,"ms-3"],["type","button","pButton","","pRipple","","icon","fa-solid fa-plus",1,"mt-2","p-button-rounded",3,"click","label"],["type","recipe",3,"id"],["styleClass","mt-2",3,"value","closable","escape"]],template:function(n,i){if(n&1){let s=y();a(0,"p-card",7),d(1,"translate"),a(2,"div",8)(3,"p-orderList",9),g("onReorder",function(){return h(s),b(i.objectivesSvc.setOrder(i.objectives()))}),f(4,Lo,13,19,"ng-template",10),r(),a(5,"div",11)(6,"button",12),d(7,"translate"),g("click",function(){h(s);let v=S(17);return b(v.clickOpen("item",i.settings().availableItemIds))}),r(),a(8,"button",13),d(9,"translate"),g("click",function(){h(s);let v=S(20);return b(v.clickOpen("recipe",i.settings().availableRecipeIds))}),r(),a(10,"p-dropdown",14),d(11,"translate"),g("onChange",function(v){return h(s),b(i.settingsSvc.apply({displayRate:v.value}))}),r(),a(12,"p-toggleButton",15),d(13,"translate"),g("onChange",function(v){return h(s),b(i.preferencesSvc.apply({paused:v.checked}))}),r()(),f(14,zo,2,0,"p-messages",16)(15,Ko,2,3),r(),a(16,"lab-picker",17,0),d(18,"translate"),g("selectId",function(v){return h(s),b(i.objectivesSvc.add({targetId:v,unit:i.ObjectiveUnit.Items}))}),r(),a(19,"lab-picker",17,1),d(21,"translate"),g("selectId",function(v){return h(s),b(i.objectivesSvc.add({targetId:v,unit:i.ObjectiveUnit.Machines}))}),r(),C(22,"lab-picker",7,2),d(24,"translate"),C(25,"lab-picker",7,3),d(27,"translate"),r()}if(n&2){let s;p("header",m(1,17,"objectives.title")),o(3),p("value",i.objectives())("dragdrop",!0)("trackBy",i.trackSvc.trackById),o(3),p("label",m(7,19,"objectives.addItems")),o(2),p("label",m(9,21,"objectives.addMachines")),o(2),p("pTooltip",m(11,23,"objectives.selectDisplayRate"))("ngModel",i.dispRateInfo().option)("options",i.displayRateOptions),o(2),p("ngModel",i.paused())("onIcon","fa-solid fa-play")("pTooltip",m(13,25,"objectives.pauseTooltip")),o(2),I((s=i.result().unboundedRecipeId)?14:15,s),o(2),p("header",m(18,27,"objectives.selectAnItem")),o(3),p("header",m(21,29,"objectives.selectARecipe")),o(3),p("header",m(24,31,"objectives.selectAnItem")),o(3),p("header",m(27,33,"objectives.selectARecipe"))}},dependencies:[xt,Me,we,ue,$,de,F,Ft,Vt,At,Dt,Bn,En,Mt,wt,On,mi,Q,_e,$t,Kt,Nt,Re,it,st,q],styles:[".objectives-content[_ngcontent-%COMP%]{max-width:1000px}.objectives-buttons[_ngcontent-%COMP%]{gap:.25rem}.p-inputgroup[_ngcontent-%COMP%]   p-dropdown.icon[_ngcontent-%COMP%]{flex:0 0 36px}@media (min-width: 576px){button.text-truncate[_ngcontent-%COMP%], .p-inputgroup[_ngcontent-%COMP%]   lab-input-number.p-inputwrapper[_ngcontent-%COMP%]{flex:0 0 25%}}@media (max-width: 575.98px){.p-inputgroup[_ngcontent-%COMP%]   lab-input-number.p-inputwrapper[_ngcontent-%COMP%]{flex:0 0 15%}}@media (max-width: 575.98px){[_nghost-%COMP%]     button.lab-button-icon-only{justify-content:center;padding:.5rem 0;width:2.571rem}[_nghost-%COMP%]     button.lab-button-icon-only .p-button-icon{margin:0}[_nghost-%COMP%]     button.lab-button-icon-only .p-button-label{flex:0 0 auto;visibility:hidden;width:0}}"],changeDetection:0})}}return t})();var Uo=["*",[["p-header"]]],qo=["*","p-header"],Qo=t=>({$implicit:t}),Vn=t=>({transitionParams:t}),Wo=t=>({value:"visible",params:t}),Zo=t=>({value:"hidden",params:t});function Go(t,l){if(t&1&&C(0,"span",11),t&2){let e=c(3);T(e.accordion.collapseIcon),p("ngClass",e.iconClass),k("aria-hidden",!0)}}function Xo(t,l){if(t&1&&C(0,"ChevronDownIcon",11),t&2){let e=c(3);p("ngClass",e.iconClass),k("aria-hidden",!0)}}function Yo(t,l){if(t&1&&(W(0),f(1,Go,1,4,"span",9)(2,Xo,1,2,"ChevronDownIcon",10),Z()),t&2){let e=c(2);o(),p("ngIf",e.accordion.collapseIcon),o(),p("ngIf",!e.accordion.collapseIcon)}}function Jo(t,l){if(t&1&&C(0,"span",11),t&2){let e=c(3);T(e.accordion.expandIcon),p("ngClass",e.iconClass),k("aria-hidden",!0)}}function ea(t,l){if(t&1&&C(0,"ChevronRightIcon",11),t&2){let e=c(3);p("ngClass",e.iconClass),k("aria-hidden",!0)}}function ta(t,l){if(t&1&&(W(0),f(1,Jo,1,4,"span",9)(2,ea,1,2,"ChevronRightIcon",10),Z()),t&2){let e=c(2);o(),p("ngIf",e.accordion.expandIcon),o(),p("ngIf",!e.accordion.expandIcon)}}function ia(t,l){if(t&1&&(W(0),f(1,Yo,3,2,"ng-container",3)(2,ta,3,2,"ng-container",3),Z()),t&2){let e=c();o(),p("ngIf",e.selected),o(),p("ngIf",!e.selected)}}function na(t,l){}function oa(t,l){t&1&&f(0,na,0,0,"ng-template")}function aa(t,l){if(t&1&&(a(0,"span",12),_(1),r()),t&2){let e=c();o(),E(" ",e.header," ")}}function sa(t,l){t&1&&L(0)}function ra(t,l){t&1&&bt(0,1,["*ngIf","hasHeaderFacet"])}function la(t,l){t&1&&L(0)}function pa(t,l){if(t&1&&(W(0),f(1,la,1,0,"ng-container",6),Z()),t&2){let e=c();o(),p("ngTemplateOutlet",e.contentTemplate)}}var ca=["*"],gt=(()=>{class t{el;changeDetector;id;header;headerStyle;tabStyle;contentStyle;tabStyleClass;headerStyleClass;contentStyleClass;disabled;cache=!0;transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";iconPos="start";get selected(){return this._selected}set selected(e){this._selected=e,this.loaded||(this._selected&&this.cache&&(this.loaded=!0),this.changeDetector.detectChanges())}headerAriaLevel=2;selectedChange=new A;headerFacet;templates;_selected=!1;get iconClass(){return this.iconPos==="end"?"p-accordion-toggle-icon-end":"p-accordion-toggle-icon"}contentTemplate;headerTemplate;iconTemplate;loaded=!1;accordion;constructor(e,n,i){this.el=n,this.changeDetector=i,this.accordion=e,this.id=It()}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"content":this.contentTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"icon":this.iconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}toggle(e){if(this.disabled)return!1;let n=this.findTabIndex();if(this.selected)this.selected=!1,this.accordion.onClose.emit({originalEvent:e,index:n});else{if(!this.accordion.multiple)for(var i=0;i<this.accordion.tabs.length;i++)this.accordion.tabs[i].selected&&(this.accordion.tabs[i].selected=!1,this.accordion.tabs[i].selectedChange.emit(!1),this.accordion.tabs[i].changeDetector.markForCheck());this.selected=!0,this.loaded=!0,this.accordion.onOpen.emit({originalEvent:e,index:n})}this.selectedChange.emit(this.selected),this.accordion.updateActiveIndex(),this.changeDetector.markForCheck(),e?.preventDefault()}findTabIndex(){let e=-1;for(var n=0;n<this.accordion.tabs.length;n++)if(this.accordion.tabs[n]==this){e=n;break}return e}get hasHeaderFacet(){return this.headerFacet&&this.headerFacet.length>0}onKeydown(e){switch(e.code){case"Enter":case"Space":this.toggle(e),e.preventDefault();break;default:break}}getTabHeaderActionId(e){return`${e}_header_action`}getTabContentId(e){return`${e}_content`}ngOnDestroy(){this.accordion.tabs.splice(this.findTabIndex(),1)}static \u0275fac=function(n){return new(n||t)(B(Ue(()=>ft)),B(be),B(pe))};static \u0275cmp=V({type:t,selectors:[["p-accordionTab"]],contentQueries:function(n,i,s){if(n&1&&(re(s,Ri,4),re(s,F,4)),n&2){let u;J(u=ee())&&(i.headerFacet=u),J(u=ee())&&(i.templates=u)}},hostAttrs:[1,"p-element"],inputs:{id:"id",header:"header",headerStyle:"headerStyle",tabStyle:"tabStyle",contentStyle:"contentStyle",tabStyleClass:"tabStyleClass",headerStyleClass:"headerStyleClass",contentStyleClass:"contentStyleClass",disabled:[2,"disabled","disabled",N],cache:[2,"cache","cache",N],transitionOptions:"transitionOptions",iconPos:"iconPos",selected:"selected",headerAriaLevel:[2,"headerAriaLevel","headerAriaLevel",$e]},outputs:{selectedChange:"selectedChange"},features:[se],ngContentSelectors:qo,decls:12,vars:44,consts:[[1,"p-accordion-tab",3,"ngClass","ngStyle"],["role","heading",1,"p-accordion-header"],["role","button",1,"p-accordion-header-link",3,"click","keydown","ngClass","ngStyle"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-accordion-header-text",4,"ngIf"],[4,"ngTemplateOutlet"],["role","region",1,"p-toggleable-content"],[1,"p-accordion-content",3,"ngClass","ngStyle"],[3,"class","ngClass",4,"ngIf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"],[1,"p-accordion-header-text"]],template:function(n,i){n&1&&(ei(Uo),a(0,"div",0)(1,"div",1)(2,"a",2),g("click",function(u){return i.toggle(u)})("keydown",function(u){return i.onKeydown(u)}),f(3,ia,3,2,"ng-container",3)(4,oa,1,0,null,4)(5,aa,2,1,"span",5)(6,sa,1,0,"ng-container",6)(7,ra,1,0,"ng-content",3),r()(),a(8,"div",7)(9,"div",8),bt(10),f(11,pa,2,1,"ng-container",3),r()()()),n&2&&(K("p-accordion-tab-active",i.selected),p("ngClass",i.tabStyleClass)("ngStyle",i.tabStyle),k("data-pc-name","accordiontab"),o(),K("p-highlight",i.selected)("p-disabled",i.disabled),k("aria-level",i.headerAriaLevel)("data-p-disabled",i.disabled)("data-pc-section","header"),o(),p("ngClass",i.headerStyleClass)("ngStyle",i.headerStyle),k("tabindex",i.disabled?null:0)("id",i.getTabHeaderActionId(i.id))("aria-controls",i.getTabContentId(i.id))("aria-expanded",i.selected)("aria-disabled",i.disabled)("data-pc-section","headeraction"),o(),p("ngIf",!i.iconTemplate),o(),p("ngTemplateOutlet",i.iconTemplate)("ngTemplateOutletContext",O(34,Qo,i.selected)),o(),p("ngIf",!i.hasHeaderFacet),o(),p("ngTemplateOutlet",i.headerTemplate),o(),p("ngIf",i.hasHeaderFacet),o(),p("@tabContent",i.selected?O(38,Wo,O(36,Vn,i.transitionOptions)):O(42,Zo,O(40,Vn,i.transitionOptions))),k("id",i.getTabContentId(i.id))("aria-hidden",!i.selected)("aria-labelledby",i.getTabHeaderActionId(i.id))("data-pc-section","toggleablecontent"),o(),p("ngClass",i.contentStyleClass)("ngStyle",i.contentStyle),o(2),p("ngIf",i.contentTemplate&&(i.cache?i.loaded:i.selected)))},dependencies:()=>[ce,ke,he,Ie,pi,dt],styles:[`@layer primeng{.p-accordion-header-link{cursor:pointer;display:flex;align-items:center;-webkit-user-select:none;user-select:none;position:relative;text-decoration:none}.p-accordion-header-link:focus{z-index:1}.p-accordion-header-text{line-height:1}.p-accordion .p-toggleable-content{overflow:hidden}.p-accordion .p-accordion-tab-active>.p-toggleable-content:not(.ng-animating){overflow:inherit}.p-accordion-toggle-icon-end{order:1;margin-left:auto}.p-accordion-toggle-icon{order:0}}
`],encapsulation:2,data:{animation:[Je("tabContent",[ii("hidden",Be({height:"0",visibility:"hidden"})),ii("visible",Be({height:"*",visibility:"visible"})),Oe("visible <=> hidden",[Ee("{{transitionParams}}")]),Oe("void => *",Ee(0))])]},changeDetection:0})}return t})(),ft=(()=>{class t{el;changeDetector;multiple=!1;style;styleClass;expandIcon;collapseIcon;get activeIndex(){return this._activeIndex}set activeIndex(e){if(this._activeIndex=e,this.preventActiveIndexPropagation){this.preventActiveIndexPropagation=!1;return}this.updateSelectionState()}selectOnFocus=!1;get headerAriaLevel(){return this._headerAriaLevel}set headerAriaLevel(e){typeof e=="number"&&e>0?this._headerAriaLevel=e:this._headerAriaLevel!==2&&(this._headerAriaLevel=2)}onClose=new A;onOpen=new A;activeIndexChange=new A;tabList;tabListSubscription=null;_activeIndex;_headerAriaLevel=2;preventActiveIndexPropagation=!1;tabs=[];constructor(e,n){this.el=e,this.changeDetector=n}onKeydown(e){switch(e.code){case"ArrowDown":this.onTabArrowDownKey(e);break;case"ArrowUp":this.onTabArrowUpKey(e);break;case"Home":e.shiftKey||this.onTabHomeKey(e);break;case"End":e.shiftKey||this.onTabEndKey(e);break}}focusedElementIsAccordionHeader(){return document.activeElement.tagName.toLowerCase()==="a"&&document.activeElement.classList.contains("p-accordion-header-link")}onTabArrowDownKey(e){if(this.focusedElementIsAccordionHeader()){let n=this.findNextHeaderAction(e.target.parentElement.parentElement.parentElement);n?this.changeFocusedTab(n):this.onTabHomeKey(e),e.preventDefault()}}onTabArrowUpKey(e){if(this.focusedElementIsAccordionHeader()){let n=this.findPrevHeaderAction(e.target.parentElement.parentElement.parentElement);n?this.changeFocusedTab(n):this.onTabEndKey(e),e.preventDefault()}}onTabHomeKey(e){let n=this.findFirstHeaderAction();this.changeFocusedTab(n),e.preventDefault()}changeFocusedTab(e){e&&(D.focus(e),this.selectOnFocus&&this.tabs.forEach((n,i)=>{let s=this.multiple?this._activeIndex.includes(i):i===this._activeIndex;this.multiple?(this._activeIndex||(this._activeIndex=[]),n.id==e.id&&(n.selected=!n.selected,this._activeIndex.includes(i)?this._activeIndex=this._activeIndex.filter(u=>u!==i):this._activeIndex.push(i))):n.id==e.id?(n.selected=!n.selected,this._activeIndex=i):n.selected=!1,n.selectedChange.emit(s),this.activeIndexChange.emit(this._activeIndex),n.changeDetector.markForCheck()}))}findNextHeaderAction(e,n=!1){let i=n?e:e.nextElementSibling,s=D.findSingle(i,'[data-pc-section="header"]');return s?D.getAttribute(s,"data-p-disabled")?this.findNextHeaderAction(s.parentElement.parentElement):D.findSingle(s,'[data-pc-section="headeraction"]'):null}findPrevHeaderAction(e,n=!1){let i=n?e:e.previousElementSibling,s=D.findSingle(i,'[data-pc-section="header"]');return s?D.getAttribute(s,"data-p-disabled")?this.findPrevHeaderAction(s.parentElement.parentElement):D.findSingle(s,'[data-pc-section="headeraction"]'):null}findFirstHeaderAction(){let e=this.el.nativeElement.firstElementChild.childNodes[0];return this.findNextHeaderAction(e,!0)}findLastHeaderAction(){let e=this.el.nativeElement.firstElementChild.childNodes,n=e[e.length-1];return this.findPrevHeaderAction(n,!0)}onTabEndKey(e){let n=this.findLastHeaderAction();this.changeFocusedTab(n),e.preventDefault()}ngAfterContentInit(){this.initTabs(),this.tabListSubscription=this.tabList.changes.subscribe(e=>{this.initTabs()})}initTabs(){this.tabs=this.tabList.toArray(),this.tabs.forEach(e=>{e.headerAriaLevel=this._headerAriaLevel}),this.updateSelectionState(),this.changeDetector.markForCheck()}getBlockableElement(){return this.el.nativeElement.children[0]}updateSelectionState(){if(this.tabs&&this.tabs.length&&this._activeIndex!=null)for(let e=0;e<this.tabs.length;e++){let n=this.multiple?this._activeIndex.includes(e):e===this._activeIndex;n!==this.tabs[e].selected&&(this.tabs[e].selected=n,this.tabs[e].selectedChange.emit(n),this.tabs[e].changeDetector.markForCheck())}}isTabActive(e){return this.multiple?this._activeIndex&&this._activeIndex.includes(e):this._activeIndex===e}getTabProp(e,n){return e.props?e.props[n]:void 0}updateActiveIndex(){let e=this.multiple?[]:null;this.tabs.forEach((n,i)=>{if(n.selected)if(this.multiple)e.push(i);else{e=i;return}}),this.preventActiveIndexPropagation=!0,this._activeIndex=e,this.activeIndexChange.emit(e)}ngOnDestroy(){this.tabListSubscription&&this.tabListSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)(B(be),B(pe))};static \u0275cmp=V({type:t,selectors:[["p-accordion"]],contentQueries:function(n,i,s){if(n&1&&re(s,gt,5),n&2){let u;J(u=ee())&&(i.tabList=u)}},hostAttrs:[1,"p-element"],hostBindings:function(n,i){n&1&&g("keydown",function(u){return i.onKeydown(u)})},inputs:{multiple:[2,"multiple","multiple",N],style:"style",styleClass:"styleClass",expandIcon:"expandIcon",collapseIcon:"collapseIcon",activeIndex:"activeIndex",selectOnFocus:[2,"selectOnFocus","selectOnFocus",N],headerAriaLevel:"headerAriaLevel"},outputs:{onClose:"onClose",onOpen:"onOpen",activeIndexChange:"activeIndexChange"},features:[se],ngContentSelectors:ca,decls:2,vars:4,consts:[[3,"ngClass","ngStyle"]],template:function(n,i){n&1&&(ei(),a(0,"div",0),bt(1),r()),n&2&&(T(i.styleClass),p("ngClass","p-accordion p-component")("ngStyle",i.style))},dependencies:[ce,Ie],encapsulation:2,changeDetection:0})}return t})(),Wt=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Y({type:t});static \u0275inj=X({imports:[ie,pi,dt,ne]})}return t})();var ma=["pMenuItemContent",""],Dn=t=>({"p-disabled":t}),Zt=t=>({$implicit:t}),ua=()=>({exact:!1});function _a(t,l){t&1&&L(0)}function ga(t,l){if(t&1&&(a(0,"a",6),f(1,_a,1,0,"ng-container",7),r()),t&2){let e=c(2),n=S(4);p("target",e.item.target)("ngClass",O(9,Dn,e.item.disabled)),k("title",e.item.title)("href",e.item.url||null,Ne)("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action"),o(),p("ngTemplateOutlet",n)("ngTemplateOutletContext",O(11,Zt,e.item))}}function fa(t,l){t&1&&L(0)}function ha(t,l){if(t&1&&(a(0,"a",8),f(1,fa,1,0,"ng-container",7),r()),t&2){let e=c(2),n=S(4);p("routerLink",e.item.routerLink)("queryParams",e.item.queryParams)("routerLinkActiveOptions",e.item.routerLinkActiveOptions||z(17,ua))("target",e.item.target)("ngClass",O(18,Dn,e.item.disabled))("fragment",e.item.fragment)("queryParamsHandling",e.item.queryParamsHandling)("preserveFragment",e.item.preserveFragment)("skipLocationChange",e.item.skipLocationChange)("replaceUrl",e.item.replaceUrl)("state",e.item.state),k("data-automationid",e.item.automationId)("tabindex",-1)("data-pc-section","action")("title",e.item.title),o(),p("ngTemplateOutlet",n)("ngTemplateOutletContext",O(20,Zt,e.item))}}function ba(t,l){if(t&1&&(W(0),f(1,ga,2,13,"a",4)(2,ha,2,22,"a",5),Z()),t&2){let e=c();o(),p("ngIf",!(e.item!=null&&e.item.routerLink)),o(),p("ngIf",e.item==null?null:e.item.routerLink)}}function Ca(t,l){}function va(t,l){t&1&&f(0,Ca,0,0,"ng-template")}function xa(t,l){if(t&1&&(W(0),f(1,va,1,0,null,7),Z()),t&2){let e=c();o(),p("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",O(2,Zt,e.item))}}function ya(t,l){if(t&1&&C(0,"span",12),t&2){let e=c(2);T(e.item.iconClass),p("ngClass",e.item.icon)("ngStyle",e.item.iconStyle)}}function Ia(t,l){if(t&1&&(a(0,"span",13),_(1),r()),t&2){let e=c(2);o(),x(e.item.label)}}function Sa(t,l){if(t&1&&(C(0,"span",14),d(1,"safeHtml")),t&2){let e=c(2);p("innerHTML",m(1,1,e.item.label),ze)}}function Ta(t,l){if(t&1&&(a(0,"span",15),_(1),r()),t&2){let e=c(2);p("ngClass",e.item.badgeStyleClass),o(),x(e.item.badge)}}function wa(t,l){if(t&1&&f(0,ya,1,4,"span",9)(1,Ia,2,1,"span",10)(2,Sa,2,3,"ng-template",null,1,P)(4,Ta,2,2,"span",11),t&2){let e=S(3),n=c();p("ngIf",n.item.icon),o(),p("ngIf",n.item.escape!==!1)("ngIfElse",e),o(3),p("ngIf",n.item.badge)}}var Ma=["list"],ka=["container"],Ea=t=>({"p-menu p-component":!0,"p-menu-overlay":t}),Ba=(t,l)=>({showTransitionParams:t,hideTransitionParams:l}),Oa=t=>({value:"visible",params:t}),ui=t=>({"p-hidden":t}),Pa=(t,l)=>({"p-hidden":t,flex:l}),An=(t,l,e)=>({"p-hidden":t,"p-focus":l,"p-disabled":e});function Va(t,l){t&1&&L(0)}function Fa(t,l){if(t&1&&(a(0,"div",9),f(1,Va,1,0,"ng-container",10),r()),t&2){let e=c(2);k("data-pc-section","start"),o(),p("ngTemplateOutlet",e.startTemplate)}}function Da(t,l){if(t&1&&C(0,"li",14),t&2){let e=c().$implicit;p("ngClass",O(1,ui,e.visible===!1))}}function Aa(t,l){if(t&1&&(a(0,"span"),_(1),r()),t&2){let e=c(3).$implicit;o(),x(e.label)}}function Ra(t,l){if(t&1&&(C(0,"span",18),d(1,"safeHtml")),t&2){let e=c(3).$implicit;p("innerHTML",m(1,1,e.label),ze)}}function La(t,l){if(t&1&&(W(0),f(1,Aa,2,1,"span",17)(2,Ra,2,3,"ng-template",null,2,P),Z()),t&2){let e=S(3),n=c(2).$implicit;o(),p("ngIf",n.escape!==!1)("ngIfElse",e)}}function ja(t,l){t&1&&L(0)}function Ha(t,l){if(t&1&&(a(0,"li",15),f(1,La,4,2,"ng-container",7)(2,ja,1,0,"ng-container",16),r()),t&2){let e=c(),n=e.$implicit,i=e.index,s=c(3);p("ngClass",le(7,Pa,n.visible===!1,n.visible))("tooltipOptions",n.tooltipOptions),k("data-automationid",n.automationId)("id",s.menuitemId(n,s.id,i)),o(),p("ngIf",!s.submenuHeaderTemplate),o(),p("ngTemplateOutlet",s.submenuHeaderTemplate)("ngTemplateOutletContext",O(10,Zt,n))}}function za(t,l){if(t&1&&C(0,"li",14),t&2){let e=c().$implicit,n=c().$implicit;p("ngClass",O(1,ui,e.visible===!1||n.visible===!1))}}function Na(t,l){if(t&1){let e=y();a(0,"li",20),g("onMenuItemClick",function(i){h(e);let s=c(),u=s.$implicit,v=s.index,M=c().index,R=c(3);return b(R.itemClick(i,R.menuitemId(u,R.id,M,v)))}),r()}if(t&2){let e=c(),n=e.$implicit,i=e.index,s=c(),u=s.$implicit,v=s.index,M=c(3);T(n.styleClass),p("pMenuItemContent",n)("itemTemplate",M.itemTemplate)("ngClass",pt(13,An,n.visible===!1||u.visible===!1,M.focusedOptionId()&&M.menuitemId(n,M.id,v,i)===M.focusedOptionId(),M.disabled(n.disabled)))("ngStyle",n.style)("tooltipOptions",n.tooltipOptions),k("data-pc-section","menuitem")("aria-label",M.label(n.label))("data-p-focused",M.isItemFocused(M.menuitemId(n,M.id,v,i)))("data-p-disabled",M.disabled(n.disabled))("aria-disabled",M.disabled(n.disabled))("id",M.menuitemId(n,M.id,v,i))}}function $a(t,l){if(t&1&&f(0,za,1,3,"li",12)(1,Na,1,17,"li",19),t&2){let e=l.$implicit;p("ngIf",e.separator),o(),p("ngIf",!e.separator)}}function Ka(t,l){if(t&1&&f(0,Da,1,3,"li",12)(1,Ha,3,12,"li",13)(2,$a,2,2,"ng-template",11),t&2){let e=l.$implicit;p("ngIf",e.separator),o(),p("ngIf",!e.separator),o(),p("ngForOf",e.items)}}function Ua(t,l){if(t&1&&f(0,Ka,3,3,"ng-template",11),t&2){let e=c(2);p("ngForOf",e.model)}}function qa(t,l){if(t&1&&C(0,"li",14),t&2){let e=c().$implicit;p("ngClass",O(1,ui,e.visible===!1))}}function Qa(t,l){if(t&1){let e=y();a(0,"li",20),g("onMenuItemClick",function(i){h(e);let s=c(),u=s.$implicit,v=s.index,M=c(3);return b(M.itemClick(i,M.menuitemId(u,M.id,v)))}),r()}if(t&2){let e=c(),n=e.$implicit,i=e.index,s=c(3);T(n.styleClass),p("pMenuItemContent",n)("itemTemplate",s.itemTemplate)("ngClass",pt(13,An,n.visible===!1,s.focusedOptionId()&&s.menuitemId(n,s.id,i,s.j)===s.focusedOptionId(),s.disabled(n.disabled)))("ngStyle",n.style)("tooltipOptions",n.tooltipOptions),k("data-pc-section","menuitem")("aria-label",s.label(n.label))("data-p-focused",s.isItemFocused(s.menuitemId(n,s.id,i)))("data-p-disabled",s.disabled(n.disabled))("aria-disabled",s.disabled(n.disabled))("id",s.menuitemId(n,s.id,i))}}function Wa(t,l){if(t&1&&f(0,qa,1,3,"li",12)(1,Qa,1,17,"li",19),t&2){let e=l.$implicit;p("ngIf",e.separator),o(),p("ngIf",!e.separator)}}function Za(t,l){if(t&1&&f(0,Wa,2,2,"ng-template",11),t&2){let e=c(2);p("ngForOf",e.model)}}function Ga(t,l){t&1&&L(0)}function Xa(t,l){if(t&1&&(a(0,"div",21),f(1,Ga,1,0,"ng-container",10),r()),t&2){let e=c(2);k("data-pc-section","end"),o(),p("ngTemplateOutlet",e.endTemplate)}}function Ya(t,l){if(t&1){let e=y();a(0,"div",4,0),g("click",function(i){h(e);let s=c();return b(s.onOverlayClick(i))})("@overlayAnimation.start",function(i){h(e);let s=c();return b(s.onOverlayAnimationStart(i))})("@overlayAnimation.done",function(i){h(e);let s=c();return b(s.onOverlayAnimationEnd(i))}),f(2,Fa,2,2,"div",5),a(3,"ul",6,1),g("focus",function(i){h(e);let s=c();return b(s.onListFocus(i))})("blur",function(i){h(e);let s=c();return b(s.onListBlur(i))})("keydown",function(i){h(e);let s=c();return b(s.onListKeyDown(i))}),f(5,Ua,1,1,null,7)(6,Za,1,1,null,7),r(),f(7,Xa,2,2,"div",8),r()}if(t&2){let e=c();T(e.styleClass),p("ngClass",O(18,Ea,e.popup))("ngStyle",e.style)("@overlayAnimation",O(23,Oa,le(20,Ba,e.showTransitionOptions,e.hideTransitionOptions)))("@.disabled",e.popup!==!0),k("data-pc-name","menu")("id",e.id),o(2),p("ngIf",e.startTemplate),o(),k("id",e.id+"_list")("tabindex",e.getTabIndexValue())("data-pc-section","menu")("aria-activedescendant",e.activedescendant())("aria-label",e.ariaLabel)("aria-labelledBy",e.ariaLabelledBy),o(2),p("ngIf",e.hasSubMenu()),o(),p("ngIf",!e.hasSubMenu()),o(),p("ngIf",e.endTemplate)}}var Rn=(()=>{class t{platformId;sanitizer;constructor(e,n){this.platformId=e,this.sanitizer=n}transform(e){return!e||!Ze(this.platformId)?e:this.sanitizer.bypassSecurityTrustHtml(e)}static \u0275fac=function(n){return new(n||t)(B(Xt,16),B(Ei,16))};static \u0275pipe=ht({name:"safeHtml",type:t,pure:!0})}return t})(),Ja=(()=>{class t{item;itemTemplate;onMenuItemClick=new A;menu;constructor(e){this.menu=e}onItemClick(e,n){this.onMenuItemClick.emit({originalEvent:e,item:n})}static \u0275fac=function(n){return new(n||t)(B(Ue(()=>_i)))};static \u0275cmp=V({type:t,selectors:[["","pMenuItemContent",""]],hostAttrs:[1,"p-element"],inputs:{item:[0,"pMenuItemContent","item"],itemTemplate:"itemTemplate"},outputs:{onMenuItemClick:"onMenuItemClick"},attrs:ma,decls:5,vars:3,consts:[["itemContent",""],["htmlLabel",""],[1,"p-menuitem-content",3,"click"],[4,"ngIf"],["class","p-menuitem-link","pRipple","",3,"target","ngClass",4,"ngIf"],["routerLinkActive","p-menuitem-link-active","class","p-menuitem-link","pRipple","",3,"routerLink","queryParams","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",1,"p-menuitem-link",3,"target","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["routerLinkActive","p-menuitem-link-active","pRipple","",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],["class","p-menuitem-icon",3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"]],template:function(n,i){if(n&1){let s=y();a(0,"div",2),g("click",function(v){return h(s),b(i.onItemClick(v,i.item))}),f(1,ba,3,2,"ng-container",3)(2,xa,2,4,"ng-container",3)(3,wa,5,4,"ng-template",null,0,P),r()}n&2&&(k("data-pc-section","content"),o(),p("ngIf",!i.itemTemplate),o(),p("ngIf",i.itemTemplate))},dependencies:[ce,ke,he,Ie,yt,Vi,Ye,Rn],encapsulation:2})}return t})(),_i=(()=>{class t{document;platformId;el;renderer;cd;config;overlayService;model;popup;style;styleClass;appendTo;autoZIndex=!0;baseZIndex=0;showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";ariaLabel;ariaLabelledBy;id;tabindex=0;onShow=new A;onHide=new A;onBlur=new A;onFocus=new A;listViewChild;containerViewChild;templates;startTemplate;endTemplate;itemTemplate;submenuHeaderTemplate;container;scrollHandler;documentClickListener;documentResizeListener;preventDocumentDefault;target;visible;focusedOptionId=ye(()=>this.focusedOptionIndex()!==-1?this.focusedOptionIndex():null);focusedOptionIndex=Qe(-1);selectedOptionIndex=Qe(-1);focused=!1;overlayVisible=!1;relativeAlign;constructor(e,n,i,s,u,v,M){this.document=e,this.platformId=n,this.el=i,this.renderer=s,this.cd=u,this.config=v,this.overlayService=M,this.id=this.id||It()}toggle(e){this.visible?this.hide():this.show(e),this.preventDocumentDefault=!0}show(e){this.visible&&this.target!==e.currentTarget&&this.hide(),this.target=e.currentTarget,this.relativeAlign=e.relativeAlign,this.visible=!0,this.preventDocumentDefault=!0,this.overlayVisible=!0,this.cd.detectChanges()}ngOnInit(){this.popup||this.bindDocumentClickListener()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"start":this.startTemplate=e.template;break;case"end":this.endTemplate=e.template;break;case"itemTemplate":this.itemTemplate=e.template;break;case"submenuheader":this.submenuHeaderTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}getTabIndexValue(){return this.tabindex!==void 0?this.tabindex.toString():null}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),D.focus(this.listViewChild.nativeElement),this.preventDocumentDefault=!0);break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}onOverlayAnimationEnd(e){switch(e.toState){case"void":this.autoZIndex&&St.clear(e.element);break}}alignOverlay(){this.relativeAlign?D.relativePosition(this.container,this.target):D.absolutePosition(this.container,this.target)}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):D.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&St.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(){this.visible=!1,this.relativeAlign=!1,this.cd.detectChanges()}onWindowResize(){this.visible&&!D.isTouchDevice()&&this.hide()}menuitemId(e,n,i,s){return e?.id??`${n}_${i}${s!==void 0?"_"+s:""}`}isItemFocused(e){return this.focusedOptionId()===e}label(e){return typeof e=="function"?e():e}disabled(e){return typeof e=="function"?e():typeof e>"u"?!1:e}activedescendant(){return this.focused?this.focusedOptionId():void 0}onListFocus(e){this.focused||(this.focused=!0,this.onFocus.emit(e))}onListBlur(e){this.focused&&(this.focused=!1,this.changeFocusedOptionIndex(-1),this.selectedOptionIndex.set(-1),this.focusedOptionIndex.set(-1),this.onBlur.emit(e))}onListKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Enter":this.onEnterKey(e);break;case"NumpadEnter":this.onEnterKey(e);break;case"Space":this.onSpaceKey(e);break;case"Escape":case"Tab":this.popup&&(D.focus(this.target),this.hide()),this.overlayVisible&&this.hide();break;default:break}}onArrowDownKey(e){let n=this.findNextOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(n),e.preventDefault()}onArrowUpKey(e){if(e.altKey&&this.popup)D.focus(this.target),this.hide(),e.preventDefault();else{let n=this.findPrevOptionIndex(this.focusedOptionIndex());this.changeFocusedOptionIndex(n),e.preventDefault()}}onHomeKey(e){this.changeFocusedOptionIndex(0),e.preventDefault()}onEndKey(e){this.changeFocusedOptionIndex(D.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]').length-1),e.preventDefault()}onEnterKey(e){let n=D.findSingle(this.containerViewChild.nativeElement,`li[id="${`${this.focusedOptionIndex()}`}"]`),i=n&&D.findSingle(n,"a");this.popup&&D.focus(this.target),i?i.click():n&&n.click(),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}findNextOptionIndex(e){let i=[...D.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(s=>s.id===e);return i>-1?i+1:0}findPrevOptionIndex(e){let i=[...D.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]')].findIndex(s=>s.id===e);return i>-1?i-1:0}changeFocusedOptionIndex(e){let n=D.find(this.containerViewChild.nativeElement,'li[data-pc-section="menuitem"][data-p-disabled="false"]');if(n.length>0){let i=e>=n.length?n.length-1:e<0?0:e;i>-1&&this.focusedOptionIndex.set(n[i].getAttribute("id"))}}itemClick(e,n){let{originalEvent:i,item:s}=e;if(this.focused||(this.focused=!0,this.onFocus.emit()),s.disabled){i.preventDefault();return}!s.url&&!s.routerLink&&i.preventDefault(),s.command&&s.command({originalEvent:i,item:s}),this.popup&&this.hide(),!this.popup&&this.focusedOptionIndex()!==n&&this.focusedOptionIndex.set(n)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement}),this.preventDocumentDefault=!0}bindDocumentClickListener(){if(!this.documentClickListener&&Ze(this.platformId)){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",n=>{let i=this.containerViewChild?.nativeElement&&!this.containerViewChild?.nativeElement.contains(n.target),s=!(this.target&&(this.target===n.target||this.target.contains(n.target)));!this.popup&&i&&s&&this.onListBlur(n),this.preventDocumentDefault&&this.overlayVisible&&i&&s&&(this.hide(),this.preventDocumentDefault=!1)})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){if(!this.documentResizeListener&&Ze(this.platformId)){let e=this.document.defaultView;this.documentResizeListener=this.renderer.listen(e,"resize",this.onWindowResize.bind(this))}}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){!this.scrollHandler&&Ze(this.platformId)&&(this.scrollHandler=new Li(this.target,()=>{this.visible&&this.hide()})),this.scrollHandler?.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.preventDocumentDefault=!1}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&St.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide()),this.popup||this.unbindDocumentClickListener()}hasSubMenu(){if(this.model){for(var e of this.model)if(e.items)return!0}return!1}isItemHidden(e){return e.separator?e.visible===!1||e.items&&e.items.some(n=>n.visible!==!1):e.visible===!1}static \u0275fac=function(n){return new(n||t)(B(ti),B(Xt),B(be),B(Yt),B(pe),B(Xe),B(Ai))};static \u0275cmp=V({type:t,selectors:[["p-menu"]],contentQueries:function(n,i,s){if(n&1&&re(s,F,4),n&2){let u;J(u=ee())&&(i.templates=u)}},viewQuery:function(n,i){if(n&1&&(lt(Ma,5),lt(ka,5)),n&2){let s;J(s=ee())&&(i.listViewChild=s.first),J(s=ee())&&(i.containerViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:[2,"popup","popup",N],style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:[2,"autoZIndex","autoZIndex",N],baseZIndex:[2,"baseZIndex","baseZIndex",$e],showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",id:"id",tabindex:[2,"tabindex","tabindex",$e]},outputs:{onShow:"onShow",onHide:"onHide",onBlur:"onBlur",onFocus:"onFocus"},features:[se],decls:1,vars:1,consts:[["container",""],["list",""],["htmlSubmenuLabel",""],[3,"ngClass","class","ngStyle","click",4,"ngIf"],[3,"click","ngClass","ngStyle"],["class","p-menu-start",4,"ngIf"],["role","menu",1,"p-menu-list","p-reset",3,"focus","blur","keydown"],[4,"ngIf"],["class","p-menu-end",4,"ngIf"],[1,"p-menu-start"],[4,"ngTemplateOutlet"],["ngFor","",3,"ngForOf"],["class","p-menuitem-separator","role","separator",3,"ngClass",4,"ngIf"],["class","p-submenu-header","pTooltip","","role","none",3,"ngClass","tooltipOptions",4,"ngIf"],["role","separator",1,"p-menuitem-separator",3,"ngClass"],["pTooltip","","role","none",1,"p-submenu-header",3,"ngClass","tooltipOptions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngIf","ngIfElse"],[3,"innerHTML"],["class","p-menuitem","pTooltip","","role","menuitem",3,"pMenuItemContent","itemTemplate","ngClass","ngStyle","class","tooltipOptions","onMenuItemClick",4,"ngIf"],["pTooltip","","role","menuitem",1,"p-menuitem",3,"onMenuItemClick","pMenuItemContent","itemTemplate","ngClass","ngStyle","tooltipOptions"],[1,"p-menu-end"]],template:function(n,i){n&1&&f(0,Ya,8,25,"div",3),n&2&&p("ngIf",!i.popup||i.visible)},dependencies:[ce,vt,ke,he,Ie,_e,Ja,Rn],styles:[`@layer primeng{.p-menu-overlay{position:absolute;top:0;left:0}.p-menu ul{margin:0;padding:0;list-style:none}.p-menu .p-submenu-header{align-items:center}.p-menu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-menu .p-menuitem-text{line-height:1}}
`],encapsulation:2,data:{animation:[Je("overlayAnimation",[Oe(":enter",[Be({opacity:0,transform:"scaleY(0.8)"}),Ee("{{showTransitionParams}}")]),Oe(":leave",[Ee("{{hideTransitionParams}}",Be({opacity:0}))])])]},changeDetection:0})}return t})(),Ln=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Y({type:t});static \u0275inj=X({imports:[ie,Ge,De,Q,ne,Ge,Q,ne]})}return t})();var jn=(()=>{class t{transform(e){return Array.from(e)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275pipe=ht({name:"toArray",type:t,pure:!0,standalone:!0})}}return t})();var ts=()=>({width:"310px"});function is(t,l){if(t&1){let e=y();a(0,"button",11),d(1,"translate"),g("click",function(){h(e);let i=c(2);return b(i.reset())}),r()}t&2&&p("label",m(1,1,"reset"))}function ns(t,l){if(t&1){let e=y();f(0,is,2,3,"button",8),a(1,"button",9),d(2,"translate"),g("click",function(){h(e);let i=c();return b(i.hide())}),r(),a(3,"button",10),d(4,"translate"),g("click",function(){h(e);let i=c();return b(i.hide(!0))}),r()}if(t&2){let e=c();I(e.modified?0:-1),o(),p("label",m(2,3,"ok")),o(2),p("label",m(4,5,"cancel"))}}var Nn=(()=>{class t extends at{constructor(){super(...arguments),this.contentSvc=w(me),this.settingsSvc=w(ae),this.editValue=kt(Bt.costs),this.rational=oe}get modified(){return Object.keys(this.editValue).some(e=>this.editValue[e]!==Bt.costs[e])}initEdit(e){this.editValue=kt(e)}open(e){this.initEdit(e),this.show()}reset(){this.editValue=kt(Bt.costs)}save(){let e=this.editValue;this.settingsSvc.apply({costs:e})}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=qe(t)))(i||t)}})()}static{this.\u0275cmp=V({type:t,selectors:[["lab-costs"]],standalone:!0,features:[We,U],decls:60,vars:71,consts:[["appendTo","body",3,"visibleChange","onHide","visible","modal","dismissableMask","draggable","resizable","focusOnShow","header"],[1,"w-100"],[3,"pTooltip"],["width","8rem",3,"setValue","value"],[1,"p-2"],[3,"onChange","ngModel","binary"],["width","8rem",3,"setValue","value","minimum","maximum"],["pTemplate","footer"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-outlined",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-outlined",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined","p-button-secondary",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-outlined",3,"click","label"]],template:function(n,i){n&1&&(a(0,"p-dialog",0),d(1,"translate"),xe("visibleChange",function(u){return ve(i.visible,u)||(i.visible=u),u}),g("onHide",function(){return i.save()}),a(2,"table",1)(3,"tr",2),d(4,"translate"),a(5,"td"),_(6),d(7,"translate"),r(),a(8,"td")(9,"lab-input-number",3),g("setValue",function(u){return i.editValue.factor=u}),r()()(),a(10,"tr",2),d(11,"translate"),a(12,"td"),_(13),d(14,"translate"),r(),a(15,"td")(16,"lab-input-number",3),g("setValue",function(u){return i.editValue.machine=u}),r()()(),a(17,"tr",2),d(18,"translate"),a(19,"td"),_(20),d(21,"translate"),r(),a(22,"td")(23,"lab-input-number",3),g("setValue",function(u){return i.editValue.recycling=u}),r()()(),a(24,"tr",2),d(25,"translate"),a(26,"td"),_(27),d(28,"translate"),r(),a(29,"td",4)(30,"p-checkbox",5),g("onChange",function(u){return i.editValue.footprint=u.checked?i.rational.one:i.rational.zero}),r()()(),a(31,"tr",2),d(32,"translate"),a(33,"td"),_(34),d(35,"translate"),r(),a(36,"td")(37,"lab-input-number",3),g("setValue",function(u){return i.editValue.unproduceable=u}),r()()(),a(38,"tr",2),d(39,"translate"),a(40,"td"),_(41),d(42,"translate"),r(),a(43,"td")(44,"lab-input-number",3),g("setValue",function(u){return i.editValue.excluded=u}),r()()(),a(45,"tr",2),d(46,"translate"),a(47,"td"),_(48),d(49,"translate"),r(),a(50,"td")(51,"lab-input-number",3),g("setValue",function(u){return i.editValue.surplus=u}),r()()(),a(52,"tr",2),d(53,"translate"),a(54,"td"),_(55),d(56,"translate"),r(),a(57,"td")(58,"lab-input-number",6),g("setValue",function(u){return i.editValue.maximize=u}),r()()()(),f(59,ns,5,7,"ng-template",7),r()),n&2&&(fe(z(70,ts)),Ce("visible",i.visible),p("modal",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("focusOnShow",!1)("header",m(1,36,"costs.header")),o(3),p("pTooltip",m(4,38,"costs.recipeTooltip")),o(3),x(m(7,40,"costs.recipe")),o(3),p("value",i.editValue.factor),o(),p("pTooltip",m(11,42,"costs.machineTooltip")),o(3),x(m(14,44,"costs.machine")),o(3),p("value",i.editValue.machine),o(),p("pTooltip",m(18,46,"costs.recyclingTooltip")),o(3),x(m(21,48,"costs.recycling")),o(3),p("value",i.editValue.recycling),o(),p("pTooltip",m(25,50,"costs.footprintTooltip")),o(3),x(m(28,52,"costs.footprint")),o(3),p("ngModel",i.editValue.footprint.nonzero())("binary",!0),o(),p("pTooltip",m(32,54,"costs.unproduceableTooltip")),o(3),x(m(35,56,"costs.unproduceable")),o(3),p("value",i.editValue.unproduceable),o(),p("pTooltip",m(39,58,"costs.excludedTooltip")),o(3),x(m(42,60,"costs.excluded")),o(3),p("value",i.editValue.excluded),o(),p("pTooltip",m(46,62,"costs.surplusTooltip")),o(3),x(m(49,64,"costs.surplus")),o(3),p("value",i.editValue.surplus),o(),p("pTooltip",m(53,66,"costs.maximizeTooltip")),o(3),x(m(56,68,"costs.maximize")),o(3),p("value",i.editValue.maximize)("minimum",void 0)("maximum",i.rational.zero))},dependencies:[Me,we,ue,$,de,F,ot,nt,Ae,et,Q,_e,it,q],styles:["td[_ngcontent-%COMP%]:last-child{text-align:end}"],changeDetection:0})}}return t})();var as=()=>({width:"600px"}),ss=()=>({"600px":"100vw"});function rs(t,l){t&1&&(a(0,"tr")(1,"th"),_(2),d(3,"translate"),r(),a(4,"th"),_(5),d(6,"translate"),r()()),t&2&&(o(2),x(m(3,2,"data.recipe")),o(3),x(m(6,4,"data.productivity")))}function ls(t,l){if(t&1){let e=y();a(0,"tr")(1,"td")(2,"div",6),C(3,"i"),d(4,"iconClass"),a(5,"span"),_(6),r()()(),a(7,"td")(8,"p-inputNumber",7,0),g("onBlur",function(){let i;h(e);let s=S(9),u=c().$implicit,v=c();return b(v.editValue[u]=v.rational((i=s.value)!==null&&i!==void 0?i:0))}),r()()()}if(t&2){let e,n=c().$implicit,i=c();o(3),T(te(4,7,n,"recipe")),o(3),x(l.name),o(2),p("min",0)("step",10)("showButtons",!0)("ngModel",(e=i.editValue[n]==null?null:i.editValue[n].toNumber())!==null&&e!==void 0?e:0)}}function ps(t,l){if(t&1&&f(0,ls,10,10,"tr"),t&2){let e,n=l.$implicit,i=c();I((e=i.data().recipeEntities[n])?0:-1,e)}}function cs(t,l){if(t&1){let e=y();a(0,"button",11),d(1,"translate"),g("click",function(){h(e);let i=c(2);return b(i.reset())}),r()}t&2&&p("label",m(1,1,"reset"))}function ds(t,l){if(t&1){let e=y();f(0,cs,2,3,"button",8),a(1,"button",9),d(2,"translate"),g("click",function(){h(e);let i=c();return b(i.hide())}),r(),a(3,"button",10),d(4,"translate"),g("click",function(){h(e);let i=c();return b(i.hide(!0))}),r()}if(t&2){let e=c();I(e.modified?0:-1),o(),p("label",m(2,3,"ok")),o(2),p("label",m(4,5,"cancel"))}}var $n=(()=>{class t extends at{constructor(){super(...arguments),this.recipesSvc=w(Ot),this.settingsSvc=w(ae),this.recipesState=this.recipesSvc.settings,this.data=this.settingsSvc.dataset,this.rational=oe,this.editValue={}}get modified(){return Object.keys(this.editValue).some(e=>!this.editValue[e].eq(oe.zero))}open(){this.editValue=this.data().canProdUpgradeRecipeIds.reduce((e,n)=>(e[n]=this.recipesState()[n].productivity??oe.zero,e),{}),this.show()}reset(){this.editValue=this.data().canProdUpgradeRecipeIds.reduce((e,n)=>(e[n]=oe.zero,e),{})}save(){this.data().canProdUpgradeRecipeIds.forEach(e=>{this.recipesSvc.updateEntityField(e,"productivity",this.editValue[e],oe.zero)})}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=qe(t)))(i||t)}})()}static{this.\u0275cmp=V({type:t,selectors:[["lab-recipe-productivity"]],standalone:!0,features:[We,U],decls:6,vars:15,consts:[["prodInput",""],["appendTo","body",3,"visibleChange","onHide","visible","modal","dismissableMask","draggable","resizable","focusOnShow","breakpoints","header"],["responsiveLayout","scroll","styleClass","p-datatable-sm",3,"value"],["pTemplate","header"],["pTemplate","body"],["pTemplate","footer"],[1,"d-flex","align-items-center","gap-2"],["prefix","+","suffix","%","incrementButtonClass","p-button-outlined","decrementButtonClass","p-button-outlined",3,"onBlur","min","step","showButtons","ngModel"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-outlined",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-outlined",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined","p-button-secondary",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-rotate-left",1,"p-button-outlined",3,"click","label"]],template:function(n,i){n&1&&(a(0,"p-dialog",1),d(1,"translate"),xe("visibleChange",function(u){return ve(i.visible,u)||(i.visible=u),u}),g("onHide",function(){return i.save()}),a(2,"p-table",2),f(3,rs,7,6,"ng-template",3)(4,ps,1,1,"ng-template",4),r(),f(5,ds,5,7,"ng-template",5),r()),n&2&&(fe(z(13,as)),Ce("visible",i.visible),p("modal",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("focusOnShow",!1)("breakpoints",z(14,ss))("header",m(1,11,"settings.recipeProductivity")),o(2),p("value",i.data().canProdUpgradeRecipeIds))},dependencies:[Me,we,ue,$,de,F,Ae,et,qt,Ut,Qt,yn,zt,q],encapsulation:2,changeDetection:0})}}return t})();var Kn=(()=>{class t{el;ngModel;control;cd;config;autoResize;variant="outlined";onResize=new A;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(e,n,i,s,u){this.el=e,this.ngModel=n,this.control=i,this.cd=s,this.config=u}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(e){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}resize(e){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(e||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(n){return new(n||t)(B(be),B(ue,8),B(dn,8),B(pe),B(Xe))};static \u0275dir=vi({type:t,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:6,hostBindings:function(n,i){n&1&&g("input",function(u){return i.onInput(u)}),n&2&&K("p-filled",i.filled)("p-inputtextarea-resizable",i.autoResize)("p-variant-filled",i.variant==="filled"||i.config.inputStyle()==="filled")},inputs:{autoResize:[2,"autoResize","autoResize",N],variant:"variant"},outputs:{onResize:"onResize"},features:[se]})}return t})(),Un=(()=>{class t{static \u0275fac=function(n){return new(n||t)};static \u0275mod=Y({type:t});static \u0275inj=X({imports:[ie]})}return t})();var gs=["filterInput"],fs=()=>({minHeight:"528px",height:"80vh",width:"50vw"}),hs=()=>({"768px":"80vw","576px":"100vw"}),bs=()=>({width:"30vw"}),Cs=()=>({"768px":"50vw","576px":"90vw"}),vs=()=>({height:"calc(80vh - 165px)",minHeight:"363px"}),xs=t=>({title:"techPicker.available",ids:t,class:"p-button-text"}),ys=t=>({title:"techPicker.locked",ids:t,class:"p-button-danger"}),Is=t=>({title:"techPicker.researched",ids:t,class:"p-button-success"}),Ss=(t,l)=>({id:t,class:l});function Ts(t,l){if(t&1){let e=y();a(0,"div",15)(1,"span",7),_(2),d(3,"translate"),r(),a(4,"button",19),d(5,"translate"),g("click",function(){h(e);let i=c();return b(i.copyScriptToClipboard())}),r(),C(6,"a",20),d(7,"translate"),r()}t&2&&(o(2),x(m(3,3,"techPicker.exportFromFactorio")),o(2),p("label",m(5,5,"techPicker.exportCopyScript")),o(2),p("label",m(7,7,"techPicker.exportUseMod")))}function ws(t,l){if(t&1){let e=y();a(0,"button",21),d(1,"translate"),g("click",function(){h(e);let i=c();return b(i.importTechs())}),r(),a(2,"button",22),d(3,"translate"),g("click",function(){h(e);let i=c();return b(i.importVisible=!1)}),r()}t&2&&(p("label",m(1,2,"ok")),o(2),p("label",m(3,4,"cancel")))}function Ms(t,l){t&1&&L(0)}function ks(t,l){t&1&&L(0)}function Es(t,l){t&1&&L(0)}function Bs(t,l){t&1&&(a(0,"i"),_(1),d(2,"translate"),r()),t&2&&(o(),x(m(2,1,"none")))}function Os(t,l){t&1&&L(0)}function Ps(t,l){if(t&1&&f(0,Os,1,0,"ng-container",23),t&2){let e=l.$implicit,n=c().class;c();let i=S(7);p("ngTemplateOutlet",i)("ngTemplateOutletContext",le(2,Ss,e,n))}}function Vs(t,l){if(t&1&&(a(0,"h3"),_(1),d(2,"translate"),r(),a(3,"div",24),f(4,Bs,3,3,"i"),j(5,Ps,1,5,"ng-container",null,Fe),r()),t&2){let e=l.title,n=l.ids;o(),x(m(2,2,e)),o(3),I(n.length===0?4:-1),o(),H(n)}}function Fs(t,l){if(t&1&&C(0,"lab-tooltip",26),t&2){let e=c().id;p("id",e)}}function Ds(t,l){if(t&1){let e=y();a(0,"button",25),d(1,"iconSmClass"),g("click",function(){let i=h(e).id,s=c(2);return b(s.clickId(i))}),f(2,Fs,1,1,"ng-template",null,4,P),r()}if(t&2){let e,n=l.id,i=l.class,s=S(3),u=c(2);T(i),K("hover-active",u.selection().includes(n)),p("label",u.showTechLabels()&&((e=u.data().itemEntities[n])==null?null:e.name)||"")("icon",m(1,7,n))("pTooltip",s)}}function As(t,l){if(t&1&&(a(0,"p-scrollPanel"),f(1,Ms,1,0,"ng-container",23)(2,ks,1,0,"ng-container",23)(3,Es,1,0,"ng-container",23)(4,Vs,7,4,"ng-template",null,2,P)(6,Ds,4,9,"ng-template",null,3,P),r()),t&2){let e=S(5),n=c();fe(z(8,vs)),o(),p("ngTemplateOutlet",e)("ngTemplateOutletContext",O(9,xs,n.status().available)),o(),p("ngTemplateOutlet",e)("ngTemplateOutletContext",O(11,ys,n.status().locked)),o(),p("ngTemplateOutlet",e)("ngTemplateOutletContext",O(13,Is,n.status().researched))}}function Rs(t,l){if(t&1){let e=y();a(0,"button",21),d(1,"translate"),g("click",function(){h(e);let i=c();return b(i.hide())}),r(),a(2,"button",22),d(3,"translate"),g("click",function(){h(e);let i=c();return b(i.hide(!0))}),r()}t&2&&(p("label",m(1,2,"ok")),o(2),p("label",m(3,4,"cancel")))}var qn=(()=>{class t extends at{constructor(){super(...arguments),this.filterSvc=w(Fi),this.contentSvc=w(me),this.preferencesSvc=w(Te),this.settingsSvc=w(ae),this.translateSvc=w(Se),this.filterInput=xi.required("filterInput"),this.selectIds=new A,this.data=this.settingsSvc.dataset,this.showTechLabels=this.preferencesSvc.showTechLabels,this.filter=Qe(""),this.selection=Qe([]),this.allSelected=ye(()=>this.selection().length===this.data().technologyIds.length),this.status=ye(()=>{let e=this.data(),n=this.filter(),i=this.selection(),s=new Set(i),u=[],v=[],M=e.technologyIds;if(n){let ge=M.map(je=>e.itemEntities[je]);M=this.filterSvc.filter(ge,["name"],n,"contains").map(je=>je.id),i=i.filter(je=>M.includes(je))}let R=i;for(let ge of M)if(!s.has(ge)){let Le=e.technologyEntities[ge];Le.prerequisites==null||Le.prerequisites.every(je=>s.has(je))?u.push(ge):v.push(ge)}return{available:u,locked:v,researched:R}}),this.importVisible=!1,this.importValue=""}clickOpen(e){this.selection.set(Array.from(e)),this.show(),this.contentSvc.isMobile()||setTimeout(()=>{this.filterInput().nativeElement.focus()})}selectAll(e){this.selection.set(e?[...this.data().technologyIds]:[])}openImport(e){this.importVisible=!0,this.importValue="",setTimeout(()=>{e.focus()})}copyScriptToClipboard(){window.navigator.clipboard.writeText(`/c local list = {}
for _, tech in pairs(game.player.force.technologies) do
    if tech.researched or tech.level > tech.prototype.level then
        list[#list + 1] = tech.name
    end
end
helpers.write_file("techs.txt", table.concat(list, ","))
`),this.translateSvc.get("techPicker.exportScriptCopied").pipe(He()).subscribe(n=>{this.contentSvc.showToast$.next({severity:"success",detail:n,contentStyleClass:"detail-only"})})}importTechs(){let e=this.importValue.split(",").map(i=>i.trim()).map(i=>{if(!i)return"";let s=`${i}-technology`;return this.data().technologyIds.includes(s)?s:this.data().technologyIds.includes(i)?i:""}).filter(i=>!!i),n=new Set(e);this.addPrerequisites(n),this.selection.set(Array.from(n)),this.importValue="",this.importVisible=!1}clickId(e){let n=new Set(this.selection());if(n.has(e)){n.delete(e);let i;do{i=new Set;for(let s of n)this.data().technologyEntities[s].prerequisites?.some(v=>!n.has(v))&&i.add(s);i.forEach(s=>n.delete(s))}while(i.size)}else n.add(e),this.addPrerequisites(n);this.selection.set(Array.from(n))}addPrerequisites(e){let n;do{n=new Set;for(let i of e)this.data().technologyEntities[i].prerequisites?.filter(u=>!e.has(u)).forEach(u=>n.add(u));n.forEach(i=>e.add(i))}while(n.size)}save(){let e=this.selection(),n=this.data();if(e.length===n.technologyIds.length){this.selectIds.emit(void 0);return}this.selectIds.emit(new Set(e))}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=qe(t)))(i||t)}})()}static{this.\u0275cmp=V({type:t,selectors:[["lab-tech-picker"]],viewQuery:function(n,i){n&1&&yi(i.filterInput,gs,5),n&2&&Ii()},outputs:{selectIds:"selectIds"},standalone:!0,features:[We,U],decls:28,vars:50,consts:[["filterInput",""],["importInput",""],["techSet",""],["techButton",""],["tooltip",""],["styleClass","picker-dialog","appendTo","body",3,"visibleChange","onHide","visible","modal","dismissableMask","draggable","resizable","focusOnShow","header","breakpoints"],[1,"d-flex","w-100","my-1","p-inputgroup"],[1,"p-inputgroup-addon"],[1,"fa-solid","fa-magnifying-glass"],["pInputText","","type","text",1,"w-100",3,"input","ngModel"],[1,"p-inputgroup-addon","flex-shrink-0"],["labelStyleClass","text-nowrap",3,"onChange","binary","label","ngModel"],["pButton","","pRipple","","type","button","icon","fa-solid fa-file-import",1,"flex-shrink-0",3,"click","label","pTooltip"],["appendTo","body",3,"visibleChange","visible","modal","dismissableMask","draggable","resizable","breakpoints","header"],[1,"d-flex","flex-column"],[1,"p-inputgroup","mb-3"],["rows","10","pInputTextarea","",1,"mt-2","w-100",3,"ngModelChange","keydown.enter","ngModel"],["pTemplate","footer"],[3,"style"],["pButton","","pRipple","","type","button","icon","fa-solid fa-copy",1,"p-button-outlined",3,"click","label"],["href","https://mods.factorio.com/mod/export-researched-technologies","target","_blank","pButton","","pRipple","","icon","fa-solid fa-link",1,"text-decoration-none","p-inputgroup-addon","p-button-outlined",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-check",1,"p-button-outlined",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined","p-button-secondary",3,"click","label"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","flex-wrap","invert"],["pButton","","pRipple","","type","button","tooltipPosition","bottom",1,"me-1","mb-1",3,"click","label","icon","pTooltip"],["type","technology",3,"id"]],template:function(n,i){if(n&1){let s=y();a(0,"p-dialog",5),d(1,"translate"),xe("visibleChange",function(v){return h(s),ve(i.visible,v)||(i.visible=v),b(v)}),g("onHide",function(){return h(s),b(i.onHide())}),a(2,"div",6)(3,"span",7),C(4,"i",8),r(),a(5,"input",9,0),g("input",function(){h(s);let v=S(6);return b(i.filter.set(v.value))}),r(),a(7,"span",10)(8,"p-checkbox",11),d(9,"translate"),g("onChange",function(v){return h(s),b(i.selectAll(v.checked))}),r()(),a(10,"span",10)(11,"p-checkbox",11),d(12,"translate"),g("onChange",function(v){return h(s),b(i.preferencesSvc.apply({showTechLabels:v.checked}))}),r()(),a(13,"button",12),d(14,"translate"),d(15,"translate"),g("click",function(){h(s);let v=S(24);return b(i.openImport(v))}),r(),a(16,"p-dialog",13),d(17,"translate"),xe("visibleChange",function(v){return h(s),ve(i.importVisible,v)||(i.importVisible=v),b(v)}),a(18,"div",14),f(19,Ts,8,9,"div",15),a(20,"div"),_(21),d(22,"translate"),r(),a(23,"textarea",16,1),xe("ngModelChange",function(v){return h(s),ve(i.importValue,v)||(i.importValue=v),b(v)}),g("keydown.enter",function(){return h(s),b(i.importTechs())}),r()(),f(25,ws,4,6,"ng-template",17),r()(),f(26,As,8,15,"p-scrollPanel",18)(27,Rs,4,6,"ng-template",17),r()}n&2&&(fe(z(46,fs)),Ce("visible",i.visible),p("modal",!0)("dismissableMask",!0)("draggable",!1)("resizable",!1)("focusOnShow",!1)("header",m(1,32,"techPicker.header"))("breakpoints",z(47,hs)),o(5),p("ngModel",i.filter()),o(3),p("binary",!0)("label",m(9,34,"techPicker.unlockAll"))("ngModel",i.allSelected()),o(3),p("binary",!0)("label",m(12,36,"techPicker.showLabels"))("ngModel",i.showTechLabels()),o(2),p("label",m(14,38,"techPicker.import"))("pTooltip",m(15,40,"techPicker.importTooltip")),o(3),fe(z(48,bs)),Ce("visible",i.importVisible),p("modal",!0)("dismissableMask",!0)("draggable",!0)("resizable",!1)("breakpoints",z(49,Cs))("header",m(17,42,"techPicker.importHeader")),o(3),I(i.data().flags.has("mods")?19:-1),o(2),x(m(22,44,"techPicker.importInstructions")),o(2),Ce("ngModel",i.importValue),o(3),I(i.visible?26:-1))},dependencies:[Me,Pt,we,ue,he,$,de,F,ot,nt,Ae,et,Lt,Rt,Un,Kn,Ht,jt,Q,_e,Re,st,q],encapsulation:2,changeDetection:0})}}return t})();var Ls=(t,l)=>l.key,Gt=(t,l)=>l.id,js=()=>({height:"100%"}),gi=t=>({count:t}),Hs=()=>[];function zs(t,l){if(t&1&&(a(0,"div"),_(1),r()),t&2){let e=c(2);o(),x(e.state)}}function Ns(t,l){if(t&1&&(a(0,"div",55)(1,"div"),_(2),d(3,"translate"),r(),f(4,zs,2,1,"div"),r()),t&2){let e=c();o(2),x(m(3,2,"settings.savedStates")),o(2),I(e.state?4:-1)}}function $s(t,l){if(t&1){let e=y();a(0,"div",25)(1,"button",56),g("click",function(){h(e);let i=S(3),s=c();return b(s.setSearch(i.value))}),r(),C(2,"input",57,4),a(4,"button",58),g("click",function(){h(e);let i=S(3),s=c();return b(s.copySearchToClipboard(i.value))}),r()()}if(t&2){let e=S(3);o(2),p("ngModel",e)}}function Ks(t,l){if(t&1){let e=y();a(0,"div",25)(1,"input",59,5),d(3,"translate"),d(4,"translate"),xe("ngModelChange",function(i){h(e);let s=c();return ve(s.editValue,i)||(s.editValue=i),b(i)}),g("keydown.enter",function(){h(e);let i=c();return b(i.clickSaveState())}),r(),a(5,"button",60),d(6,"translate"),g("click",function(){h(e);let i=c();return b(i.clickSaveState())}),r(),a(7,"button",61),d(8,"translate"),g("click",function(){h(e);let i=c();return b(i.editState=null)}),r()()}if(t&2){let e=S(2),n=c();o(),p("placeholder",m(3,6,"settings.nameSavedState"))("pTooltip",m(4,8,"settings.nameSavedState")),Ce("ngModel",n.editValue),o(4),p("pTooltip",m(6,10,"settings.saveState"))("disabled",e.invalid),o(2),p("pTooltip",m(8,12,"cancel"))}}function Us(t,l){if(t&1&&(a(0,"a",68),C(1,"span",69),a(2,"span",70),_(3),d(4,"translate"),r()()),t&2){let e=l.$implicit;o(),p("ngClass",e.icon),o(2),x(m(4,2,e.label))}}function qs(t,l){if(t&1){let e=y();a(0,"button",65),g("click",function(i){h(e);let s=S(2);return b(s.toggle(i))}),a(1,"p-menu",66,6),f(3,Us,5,4,"ng-template",67),r()()}if(t&2){let e=c(2);o(),p("popup",!0)("model",e.editStateMenu)}}function Qs(t,l){if(t&1){let e=y();a(0,"button",71),d(1,"translate"),g("click",function(){h(e);let i=c(2);return b(i.openCreateState())}),r()}t&2&&p("pTooltip",m(1,1,"settings.createSavedState"))}function Ws(t,l){if(t&1){let e=y();a(0,"div",26)(1,"p-dropdown",62),d(2,"translate"),d(3,"translate"),g("onChange",function(i){h(e);let s=c();return b(s.setState(i.value,s.gameStates()))}),r(),f(4,qs,4,2,"button",63)(5,Qs,2,3,"button",64),r()}if(t&2){let e=c();o(),p("placeholder",m(2,5,"settings.selectSavedState"))("pTooltip",m(3,7,"settings.selectSavedState"))("ngModel",e.state)("options",e.savedStates()),o(3),I(e.state?4:5)}}function Zs(t,l){if(t&1){let e=y();a(0,"button",72),d(1,"translate"),g("click",function(){h(e);let i=c();return b(i.openCreateState())}),r()}t&2&&p("label",m(1,1,"settings.createSavedState"))}function Gs(t,l){t&1&&(a(0,"div",55)(1,"div"),_(2),d(3,"translate"),r()()),t&2&&(o(2),x(m(3,1,"settings.game")))}function Xs(t,l){if(t&1&&(a(0,"small"),_(1),r()),t&2){let e,n=l.$implicit,i=c();o(),E(" ",(e=(e=i.i18nWithDefault())==null||e.version==null?null:e.version[n.key])!==null&&e!==void 0?e:n.value," ")}}function Ys(t,l){t&1&&(a(0,"div",55)(1,"div"),_(2),d(3,"translate"),r()()),t&2&&(o(2),x(m(3,1,"settings.factory")))}function Js(t,l){if(t&1&&(C(0,"i",78),d(1,"iconSmClass")),t&2){let e=l.$implicit;T(te(1,2,e,"location"))}}function er(t,l){if(t&1&&(a(0,"div",76),j(1,Js,2,5,"i",77,Fe),r()),t&2){let e=l.$implicit;o(),H(e)}}function tr(t,l){if(t&1&&(a(0,"div",79),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r()()),t&2){let e=l.$implicit,n=c(2);p("pTooltip",n.data().locationEntities[e.value].name),o(),T(te(2,4,e.value,"location")),o(3),E(" ",e.label," ")}}function ir(t,l){if(t&1){let e=y();a(0,"div",34)(1,"label",73),_(2),d(3,"translate"),r(),a(4,"p-multiSelect",74,7),d(6,"translate"),d(7,"toArray"),g("onPanelHide",function(){h(e);let i=S(5),s=c();return b(s.changeLocations(i.value))}),f(8,er,3,0,"ng-template",75)(9,tr,5,7,"ng-template",67),r()()}if(t&2){let e=c();o(2),x(m(3,4,"settings.locations")),o(2),p("pTooltip",m(6,6,"settings.locationsTooltip"))("ngModel",m(7,8,e.settings().locationIds))("options",e.options().locations)}}function nr(t,l){if(t&1&&(C(0,"i",78),d(1,"iconSmClass")),t&2){let e=l.$implicit;T(m(1,2,e))}}function or(t,l){if(t&1&&(a(0,"div",76),j(1,nr,2,4,"i",77,Fe),r()),t&2){let e=l.$implicit;o(),H(e)}}function ar(t,l){if(t&1&&C(0,"lab-tooltip",83),t&2){let e=c().$implicit;p("id",e.value)}}function sr(t,l){if(t&1&&(a(0,"div",79),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r(),f(5,ar,1,1,"ng-template",null,8,P),r()),t&2){let e=l.$implicit,n=S(6);p("pTooltip",n),o(),T(m(2,4,e.value)),o(3),E(" ",e.label," ")}}function rr(t,l){if(t&1){let e=y();a(0,"div",34)(1,"label",81),_(2),d(3,"translate"),r(),a(4,"p-multiSelect",82),d(5,"translate"),g("onChange",function(i){h(e);let s=c();return b(s.settingsSvc.updateField("moduleRankIds",i.value,s.settings().defaultModuleRankIds))}),f(6,or,3,0,"ng-template",75)(7,sr,7,6,"ng-template",67),r()()}if(t&2){let e=c();o(2),x(m(3,4,"settings.modifierRank")),o(2),p("pTooltip",m(5,6,"settings.modifierRankTooltip"))("ngModel",e.settings().moduleRankIds)("options",e.options().modules)}}function lr(t,l){if(t&1&&(C(0,"i",78),d(1,"iconSmClass")),t&2){let e=l.$implicit;T(m(1,2,e))}}function pr(t,l){if(t&1&&(a(0,"div",76),j(1,lr,2,4,"i",77,Fe),r()),t&2){let e=l.$implicit;o(),H(e)}}function cr(t,l){if(t&1&&C(0,"lab-tooltip",86),t&2){let e=c().$implicit;p("id",e.value)}}function dr(t,l){if(t&1&&(a(0,"div",79),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r(),f(5,cr,1,1,"ng-template",null,8,P),r()),t&2){let e=l.$implicit,n=S(6);p("pTooltip",n),o(),T(m(2,4,e.value)),o(3),E(" ",e.label," ")}}function mr(t,l){if(t&1){let e=y();a(0,"div",34)(1,"label",84),_(2),d(3,"translate"),r(),a(4,"p-multiSelect",85),d(5,"translate"),g("onChange",function(i){h(e);let s=c();return b(s.settingsSvc.updateField("fuelRankIds",i.value,s.settings().defaultFuelRankIds))}),f(6,pr,3,0,"ng-template",75)(7,dr,7,6,"ng-template",67),r()()}if(t&2){let e=c();o(2),x(m(3,4,"settings.fuelRank")),o(2),p("pTooltip",m(5,6,"settings.fuelRankTooltip"))("ngModel",e.settings().fuelRankIds)("options",e.options().fuels)}}function ur(t,l){t&1&&(a(0,"div",95),C(1,"i",96),r())}function _r(t,l){if(t&1&&C(0,"lab-tooltip",98),t&2){let e=c().$implicit;p("id",e.value)}}function gr(t,l){if(t&1&&(a(0,"div",97),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r(),f(5,_r,1,1,"ng-template",null,8,P),r()),t&2){let e=l.$implicit,n=S(6);p("pTooltip",n),o(),T(m(2,4,e.value)),o(3),E(" ",e.label," ")}}function fr(t,l){if(t&1){let e=y();a(0,"p-inputNumber",99,9),d(2,"translate"),g("onBlur",function(){let i;h(e);let s=S(1),u=c(2);return b(u.settingsSvc.apply({overclock:u.rational((i=s.value)!==null&&i!==void 0?i:100)}))}),r()}if(t&2){let e,n=c(2);p("min",1)("max",250)("step",10)("maxFractionDigits",2)("showButtons",!0)("pTooltip",m(2,7,"settings.overclockTooltip"))("ngModel",(e=n.settings().overclock)==null?null:e.toNumber())}}function hr(t,l){if(t&1&&(a(0,"i",103),d(1,"iconSmClass"),a(2,"span"),_(3),r()()),t&2){let e=l.$implicit;T(m(1,3,e.id)),o(3),x(e.count)}}function br(t,l){if(t&1&&(a(0,"div",76)(1,"i",103),d(2,"iconSmClass"),a(3,"span"),_(4),r()(),j(5,hr,4,5,"i",104,Gt),r()),t&2){let e=l.$implicit;o(),T(m(2,3,e.id)),o(3),x(e.count),o(),H(e.modules)}}function Cr(t,l){t&1&&C(0,"lab-tooltip",105),t&2&&p("id",l)}function vr(t,l){if(t&1&&f(0,Cr,1,1,"lab-tooltip",105),t&2){let e,n=c(2);I((e=n==null||n[0]==null?null:n[0].id)?0:-1,e)}}function xr(t,l){if(t&1){let e=y();a(0,"button",100),g("click",function(i){h(e);let s=S(5),u=c();return b(s.show(i,u))}),j(1,br,7,5,"div",76,Jt),C(3,"i",101),r(),a(4,"lab-beacons-overlay",102,10),g("setValue",function(i){h(e);let s=c(3);return b(s.changeDefaultBeacons(i))}),r(),f(6,vr,1,1,"ng-template",null,8,P)}if(t&2){let e=S(7),n=c();p("pTooltip",e),o(),H(n)}}function yr(t,l){t&1&&f(0,xr,8,1),t&2&&I(l.length?0:-1)}function Ir(t,l){if(t&1&&(a(0,"div",76),C(1,"i"),d(2,"iconSmClass"),r()),t&2){let e=c(3).$implicit;o(),T(m(2,2,e))}}function Sr(t,l){if(t&1&&C(0,"lab-tooltip",98),t&2){let e=c().$implicit;p("id",e.value)}}function Tr(t,l){if(t&1&&(a(0,"div",97),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r(),f(5,Sr,1,1,"ng-template",null,8,P),r()),t&2){let e=l.$implicit,n=S(6);p("pTooltip",n),o(),T(m(2,4,e.value)),o(3),E(" ",e.label," ")}}function wr(t,l){if(t&1&&(a(0,"div",76),C(1,"i"),d(2,"iconSmClass"),r()),t&2){let e=l.$implicit;o(),T(m(2,2,e.value))}}function Mr(t,l){if(t&1&&C(0,"lab-tooltip",86),t&2){let e=c().$implicit;p("id",e.value)}}function kr(t,l){if(t&1&&(a(0,"div",97),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r(),f(5,Mr,1,1,"ng-template",null,8,P),r()),t&2){let e=l.$implicit,n=S(6);p("pTooltip",n),o(),T(m(2,4,e.value)),o(3),E(" ",e.label," ")}}function Er(t,l){if(t&1){let e=y();a(0,"p-dropdown",108),d(1,"translate"),g("onChange",function(i){h(e);let s=c(2),u=c().$implicit,v=c(2);return b(v.machinesSvc.updateEntityField(u,"fuelId",i.value,s.defaultFuelId))}),f(2,wr,3,4,"ng-template",91)(3,kr,7,6,"ng-template",67),r()}if(t&2){let e=c(2);p("pTooltip",m(1,3,"settings.fuelTooltip"))("ngModel",e.fuelId)("options",e.fuelOptions)}}function Br(t,l){if(t&1&&(a(0,"div",76),C(1,"i"),d(2,"iconSmClass"),r()),t&2){let e=l.$implicit;o(),T(m(2,2,e.value))}}function Or(t,l){if(t&1&&C(0,"lab-tooltip",83),t&2){let e=c().$implicit;p("id",e.value)}}function Pr(t,l){if(t&1&&(a(0,"div",97),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r(),f(5,Or,1,1,"ng-template",null,8,P),r()),t&2){let e=l.$implicit,n=S(6);p("pTooltip",e.value!=="module"?n:void 0),o(),T(m(2,4,e.value)),o(3),E(" ",e.label," ")}}function Vr(t,l){if(t&1){let e=y();a(0,"p-dropdown",108),d(1,"translate"),g("onChange",function(i){h(e);let s=c(4).$implicit,u=c(2);return b(u.changeModules(s,[{id:i.value,count:u.rational.one}]))}),f(2,Br,3,4,"ng-template",91)(3,Pr,7,6,"ng-template",67),r()}if(t&2){let e,n=c(3);p("pTooltip",m(1,3,"settings.modifierTooltip"))("ngModel",n.modules[0].id)("options",(e=n.moduleOptions)!==null&&e!==void 0?e:z(5,Hs))}}function Fr(t,l){if(t&1&&(a(0,"i",103),d(1,"iconSmClass"),a(2,"span"),_(3),r()()),t&2){let e=l.$implicit;T(m(1,3,e.id)),o(3),x(e.count)}}function Dr(t,l){if(t&1&&C(0,"lab-tooltip",83),t&2){let e=c().$implicit;p("id",e.id)}}function Ar(t,l){if(t&1&&f(0,Dr,1,1,"lab-tooltip",83),t&2){let e=l.$implicit;I(e.id?0:-1)}}function Rr(t,l){if(t&1&&j(0,Ar,1,1,null,null,Gt),t&2){let e=c(4);H(e.modules)}}function Lr(t,l){if(t&1){let e=y();a(0,"button",111),g("click",function(i){h(e);let s=S(5),u=c(2),v=c();return b(s.show(i,v.modules,u))}),j(1,Fr,4,5,"i",104,Gt),C(3,"i",101),r(),a(4,"lab-modules-overlay",102,11),g("setValue",function(i){h(e);let s=c(4).$implicit,u=c(2);return b(u.changeModules(s,i))}),r(),f(6,Rr,2,0,"ng-template",null,8,P)}if(t&2){let e=S(7),n=c(3);p("pTooltip",e),o(),H(n.modules)}}function jr(t,l){if(t&1&&f(0,Vr,4,6,"p-dropdown",109)(1,Lr,8,1),t&2){let e=c();I(e.modules!==!0&&(e.modules!=null&&e.modules.isOne())?0:1)}}function Hr(t,l){if(t&1){let e=y();a(0,"p-inputNumber",99,9),d(2,"translate"),g("onBlur",function(){let i;h(e);let s=S(1),u=c(2),v=c().$implicit,M=c(2);return b(M.machinesSvc.updateEntityField(v,"overclock",M.rational((i=s.value)!==null&&i!==void 0?i:100),u.defaultOverclock))}),r()}if(t&2){let e=c(2);p("min",1)("max",250)("step",10)("maxFractionDigits",2)("showButtons",!0)("pTooltip",m(2,7,"settings.overclockTooltip"))("ngModel",e.overclock==null?null:e.overclock.toNumber())}}function zr(t,l){if(t&1&&(a(0,"i",103),d(1,"iconSmClass"),a(2,"span"),_(3),r()()),t&2){let e=l.$implicit;T(m(1,3,e.id)),o(3),x(e.count)}}function Nr(t,l){if(t&1&&(a(0,"div",76)(1,"i",103),d(2,"iconSmClass"),a(3,"span"),_(4),r()(),j(5,zr,4,5,"i",104,Gt),r()),t&2){let e=l.$implicit;o(),T(m(2,3,e.id)),o(3),x(e.count),o(),H(e.modules)}}function $r(t,l){t&1&&C(0,"lab-tooltip",105),t&2&&p("id",l)}function Kr(t,l){if(t&1&&f(0,$r,1,1,"lab-tooltip",105),t&2){let e,n=c(3);I((e=n.beacons==null||n.beacons[0]==null?null:n.beacons[0].id)?0:-1,e)}}function Ur(t,l){if(t&1){let e=y();a(0,"button",100),g("click",function(i){h(e);let s=S(5),u=c(2);return b(s.show(i,u.beacons))}),j(1,Nr,7,5,"div",76,Jt),C(3,"i",101),r(),a(4,"lab-beacons-overlay",102,10),g("setValue",function(i){h(e);let s=c(3).$implicit,u=c(2);return b(u.changeBeacons(s,i))}),r(),f(6,Kr,1,1,"ng-template",null,8,P)}if(t&2){let e=S(7),n=c(2);p("pTooltip",e),o(),H(n.beacons)}}function qr(t,l){if(t&1){let e=y();a(0,"div",106),C(1,"button",107),a(2,"p-dropdown",108),d(3,"translate"),d(4,"filterOptions"),g("onChange",function(i){h(e);let s=c(2).$implicit,u=c(2);return b(u.setMachine(s,i.value))}),f(5,Ir,3,4,"ng-template",91)(6,Tr,7,6,"ng-template",67),r(),f(7,Er,4,5,"p-dropdown",109)(8,jr,2,1)(9,Hr,3,9,"p-inputNumber",92)(10,Ur,8,1),a(11,"button",110),d(12,"translate"),g("click",function(){h(e);let i=c(2).$implicit,s=c(2);return b(s.removeMachine(i))}),r()()}if(t&2){let e=c(),n=c().$implicit,i=c(2);o(2),p("pTooltip",m(3,10,"settings.machineTooltip"))("ngModel",n)("options",wi(4,12,i.options().machines,i.machineIds(),n)),o(5),I(e.fuelId?7:-1),o(),I(e.modules&&l.modules?8:-1),o(),I(i.data().flags.has("overclock")?9:-1),o(),I(e.beacons&&e.beacons.length?10:-1),o(),K("invisible",n===""),p("pTooltip",m(12,16,"settings.removeMachinePreference"))}}function Qr(t,l){if(t&1&&f(0,qr,13,18,"div",106),t&2){let e,n=c().$implicit,i=c(2);I((e=i.data().machineEntities[n])?0:-1,e)}}function Wr(t,l){if(t&1&&f(0,Qr,1,1),t&2){let e,n=l.$implicit,i=c(2);I((e=i.machinesState()[n])?0:-1,e)}}function Zr(t,l){if(t&1){let e=y();a(0,"div",87)(1,"span",88),d(2,"translate"),C(3,"i",89),r(),a(4,"p-dropdown",90),d(5,"translate"),d(6,"filterOptions"),g("onChange",function(i){h(e);let s=c();return b(s.addMachine(i.value))}),f(7,ur,2,0,"ng-template",91)(8,gr,7,6,"ng-template",67),r(),f(9,fr,3,9,"p-inputNumber",92)(10,yr,1,1),r(),a(11,"p-orderList",93),g("onReorder",function(){h(e);let i=c();return b(i.settingsSvc.updateField("machineRankIds",i.machineIds(),i.settings().defaultMachineRankIds))}),f(12,Wr,1,1,"ng-template",67),r(),C(13,"div",94)}if(t&2){let e,n,i=c();o(),p("pTooltip",m(2,10,"settings.machineDefaults")),o(3),K("invisible",!i.options().machines.length),p("ngModel",(e=i.options().machines[0])==null?null:e.value)("pTooltip",m(5,12,"settings.addMachineTooltip"))("options",te(6,14,i.options().machines,i.machineIds())),o(5),I(i.data().flags.has("overclock")?9:-1),o(),I((n=i.data().flags.has("beacons")&&i.settings().beacons)?10:-1,n),o(),p("value",i.machineIds())("dragdrop",!0)}}function Gr(t,l){if(t&1){let e=y();a(0,"div",34)(1,"p-checkbox",112),d(2,"translate"),d(3,"translate"),g("onChange",function(i){h(e);let s=c();return b(s.toggleBeaconReceivers(i.checked))}),r()()}if(t&2){let e=c();o(),p("ngModel",e.settings().beaconReceivers!=null)("binary",!0)("label",m(2,4,"settings.estimateBeaconPowerUsage"))("pTooltip",m(3,6,"settings.estimateBeaconPowerUsageTooltip"))}}function Xr(t,l){if(t&1){let e=y();a(0,"div",34)(1,"label",113),_(2),d(3,"translate"),r(),a(4,"lab-input-number",114),d(5,"translate"),g("setValue",function(i){h(e);let s=c();return b(s.settingsSvc.apply({beaconReceivers:i}))}),r()()}t&2&&(o(2),x(m(3,3,"settings.averageBeaconReceivers")),o(2),p("pTooltip",m(5,5,"settings.averageBeaconReceiversTooltip"))("value",l))}function Yr(t,l){if(t&1&&(a(0,"div",117),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r()()),t&2){let e=l.$implicit;o(),T(m(2,3,e.value)),o(3),E(" ",e.label," ")}}function Jr(t,l){if(t&1&&C(0,"lab-tooltip",83),t&2){let e=c().$implicit;p("id",e.value)}}function el(t,l){if(t&1&&(a(0,"div",97),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r(),f(5,Jr,1,1,"ng-template",null,8,P),r()),t&2){let e=l.$implicit,n=S(6);p("pTooltip",e.value!=="module"?n:void 0),o(),T(m(2,4,e.value)),o(3),E(" ",e.label," ")}}function tl(t,l){if(t&1){let e=y();a(0,"div",31)(1,"div",41)(2,"p-dropdown",115),d(3,"translate"),g("onChange",function(i){h(e);let s=c();return b(s.settingsSvc.apply({proliferatorSprayId:i.value}))}),f(4,Yr,5,5,"ng-template",91)(5,el,7,6,"ng-template",67),r(),a(6,"label",116),_(7),d(8,"translate"),r()()()}if(t&2){let e=c();o(2),p("autoDisplayFirst",!1)("pTooltip",m(3,5,"settings.proliferatorSelfSprayTooltip"))("ngModel",e.settings().proliferatorSprayId)("options",e.options().proliferatorModules),o(5),x(m(8,7,"settings.proliferatorSelfSpray"))}}function il(t,l){if(t&1&&(a(0,"div",117),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r()()),t&2){let e=c().$implicit;o(),T(m(2,3,e.value)),o(3),E(" ",e.label," ")}}function nl(t,l){if(t&1&&f(0,il,5,5,"div",117),t&2){let e=l.$implicit;I(e?0:-1)}}function ol(t,l){if(t&1&&C(0,"lab-tooltip",120),t&2){let e=c().$implicit;p("id",e.value)}}function al(t,l){if(t&1&&(a(0,"div",97),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r(),f(5,ol,1,1,"ng-template",null,8,P),r()),t&2){let e=l.$implicit,n=S(6);p("pTooltip",n),o(),T(m(2,4,e.value)),o(3),E(" ",e.label," ")}}function sl(t,l){if(t&1){let e=y();a(0,"div",31)(1,"div",41)(2,"p-dropdown",118),d(3,"translate"),g("onChange",function(i){h(e);let s=c();return b(s.settingsSvc.updateField("beltId",i.value,s.settings().defaultBeltId))}),f(4,nl,1,1,"ng-template",91)(5,al,7,6,"ng-template",67),r(),a(6,"label",119),_(7),d(8,"translate"),r()()()}if(t&2){let e=c();o(2),p("pTooltip",m(3,4,"settings.defaultTransportBeltTooltip"))("ngModel",e.settings().beltId)("options",e.options().belts),o(5),x(m(8,6,"settings.defaultTransportBelt"))}}function rl(t,l){if(t&1){let e=y();a(0,"div",34)(1,"label",121),_(2),d(3,"translate"),r(),a(4,"lab-input-number",122),d(5,"translate"),g("setValue",function(i){h(e);let s=c();return b(s.settingsSvc.apply({stack:i}))}),r()()}if(t&2){let e,n=c();o(2),x(m(3,4,"settings.defaultStack")),o(2),p("pTooltip",m(5,6,"settings.defaultStackTooltip"))("value",(e=n.settings().stack)!==null&&e!==void 0?e:n.rational.one)("minimum",n.rational.one)}}function ll(t,l){if(t&1&&(a(0,"div",117),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r()()),t&2){let e=l.$implicit;o(),T(m(2,3,e.value)),o(3),E(" ",e.label," ")}}function pl(t,l){if(t&1&&C(0,"lab-tooltip",125),t&2){let e=c().$implicit;p("id",e.value)}}function cl(t,l){if(t&1&&(a(0,"div",97),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r(),f(5,pl,1,1,"ng-template",null,8,P),r()),t&2){let e=l.$implicit,n=S(6);p("pTooltip",n),o(),T(m(2,4,e.value)),o(3),E(" ",e.label," ")}}function dl(t,l){if(t&1){let e=y();a(0,"div",31)(1,"div",41)(2,"p-dropdown",123),d(3,"translate"),g("onChange",function(i){h(e);let s=c();return b(s.settingsSvc.updateField("pipeId",i.value,s.settings().defaultPipeId))}),f(4,ll,5,5,"ng-template",91)(5,cl,7,6,"ng-template",67),r(),a(6,"label",124),_(7),d(8,"translate"),r()()()}if(t&2){let e=c();o(2),p("pTooltip",m(3,4,"settings.defaultPipeTooltip"))("ngModel",e.settings().pipeId)("options",e.options().pipes),o(5),x(m(8,6,"settings.defaultPipe"))}}function ml(t,l){if(t&1&&(a(0,"div",117),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r()()),t&2){let e=l.$implicit;o(),T(m(2,3,e.value)),o(3),E(" ",e.label," ")}}function ul(t,l){if(t&1&&C(0,"lab-tooltip",128),t&2){let e=c().$implicit;p("id",e.value)}}function _l(t,l){if(t&1&&(a(0,"div",97),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r(),f(5,ul,1,1,"ng-template",null,8,P),r()),t&2){let e=l.$implicit,n=S(6);p("pTooltip",n),o(),T(m(2,4,e.value)),o(3),E(" ",e.label," ")}}function gl(t,l){if(t&1){let e=y();a(0,"div",31)(1,"div",41)(2,"p-dropdown",126),d(3,"translate"),g("onChange",function(i){h(e);let s=c();return b(s.settingsSvc.updateField("cargoWagonId",i.value,s.settings().defaultCargoWagonId))}),f(4,ml,5,5,"ng-template",91)(5,_l,7,6,"ng-template",67),r(),a(6,"label",127),_(7),d(8,"translate"),r()()()}if(t&2){let e=c();o(2),p("pTooltip",m(3,4,"settings.defaultCargoWagonTooltip"))("ngModel",e.settings().cargoWagonId)("options",e.options().cargoWagons),o(5),x(m(8,6,"settings.defaultCargoWagon"))}}function fl(t,l){if(t&1&&(a(0,"div",117),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r()()),t&2){let e=l.$implicit;o(),T(m(2,3,e.value)),o(3),E(" ",e.label," ")}}function hl(t,l){if(t&1&&C(0,"lab-tooltip",131),t&2){let e=c().$implicit;p("id",e.value)}}function bl(t,l){if(t&1&&(a(0,"div",97),C(1,"i"),d(2,"iconSmClass"),a(3,"div",80),_(4),r(),f(5,hl,1,1,"ng-template",null,8,P),r()),t&2){let e=l.$implicit,n=S(6);p("pTooltip",n),o(),T(m(2,4,e.value)),o(3),E(" ",e.label," ")}}function Cl(t,l){if(t&1){let e=y();a(0,"div",31)(1,"div",41)(2,"p-dropdown",129),d(3,"translate"),g("onChange",function(i){h(e);let s=c();return b(s.settingsSvc.updateField("fluidWagonId",i.value,s.settings().defaultFluidWagonId))}),f(4,fl,5,5,"ng-template",91)(5,bl,7,6,"ng-template",67),r(),a(6,"label",130),_(7),d(8,"translate"),r()()()}if(t&2){let e=c();o(2),p("pTooltip",m(3,4,"settings.defaultFluidWagonTooltip"))("ngModel",e.settings().fluidWagonId)("options",e.options().fluidWagons),o(5),x(m(8,6,"settings.defaultFluidWagon"))}}function vl(t,l){if(t&1){let e=y();a(0,"div",31)(1,"div",41)(2,"p-inputNumber",132,12),d(4,"translate"),d(5,"translate"),g("onBlur",function(){let i;h(e);let s=S(3),u=c();return b(u.settingsSvc.apply({flowRate:u.rational((i=s.value)!==null&&i!==void 0?i:1200)}))}),r(),a(6,"label",133),_(7),d(8,"translate"),r(),a(9,"small",134)(10,"a",135),_(11),d(12,"translate"),r()()()()}if(t&2){let e=c();o(2),p("suffix"," "+m(4,8,"settings.flowRateUnit"))("min",1)("step",100)("showButtons",!0)("pTooltip",m(5,10,"settings.pipeFlowRateTooltip"))("ngModel",e.settings().flowRate.toNumber()),o(5),x(m(8,12,"settings.pipeFlowRate")),o(4),x(m(12,14,"settings.wiki"))}}function xl(t,l){if(t&1){let e=y();a(0,"div",39)(1,"div",41)(2,"p-dropdown",136),d(3,"translate"),g("onChange",function(i){h(e);let s=c();return b(s.settingsSvc.apply({inserterTarget:i.value}))}),r(),a(4,"label",137),_(5),d(6,"translate"),r()()()}if(t&2){let e=c();o(2),p("pTooltip",m(3,4,"settings.inserterTargetTooltip"))("ngModel",e.settings().inserterTarget)("options",e.inserterTargetOptions),o(3),x(m(6,6,"settings.inserterTarget"))}}function yl(t,l){if(t&1){let e=y();a(0,"div",31)(1,"div",41)(2,"p-inputNumber",138,13),d(4,"translate"),g("onInput",function(){let i;h(e);let s=S(3),u=c(2);return b(u.settingsSvc.apply({miningBonus:u.rational(((i=s.value)!==null&&i!==void 0?i:100)-100)}))}),r(),a(5,"label",139),_(6),d(7,"translate"),r()()()}if(t&2){let e=c(2);o(2),p("min",100)("step",10)("showButtons",!0)("pTooltip",m(4,6,"settings.miningSpeedTooltip"))("ngModel",e.settings().miningBonus.add(e.rational(100)).toNumber()),o(4),x(m(7,8,"settings.miningSpeed"))}}function Il(t,l){if(t&1){let e=y();a(0,"div",31)(1,"div",41)(2,"p-inputNumber",140,14),d(4,"translate"),g("onBlur",function(){let i;h(e);let s=S(3),u=c(2);return b(u.settingsSvc.apply({miningBonus:u.rational((i=s.value)!==null&&i!==void 0?i:0)}))}),r(),a(5,"label",141),_(6),d(7,"translate"),r()()()}if(t&2){let e=c(2);o(2),p("min",0)("step",10)("showButtons",!0)("pTooltip",m(4,6,"settings.miningProductivityTooltip"))("ngModel",e.settings().miningBonus.toNumber()),o(4),x(m(7,8,"settings.miningProductivity"))}}function Sl(t,l){if(t&1){let e=y();a(0,"div",31)(1,"div",41)(2,"p-dropdown",142),d(3,"translate"),g("onChange",function(i){h(e);let s=c(2);return b(s.settingsSvc.apply({researchBonus:i.value}))}),r(),a(4,"label",143),_(5),d(6,"translate"),r()()()}if(t&2){let e=c(2);o(2),p("pTooltip",m(3,4,"settings.researchSpeedTooltip"))("ngModel",e.settings().researchBonus)("options",e.researchSpeedOptions),o(3),x(m(6,6,"settings.researchSpeed"))}}function Tl(t,l){if(t&1){let e=y();a(0,"div",31)(1,"div",41)(2,"p-dropdown",144),d(3,"translate"),g("onChange",function(i){h(e);let s=c(2);return b(s.settingsSvc.apply({inserterCapacity:i.value}))}),r(),a(4,"label",145),_(5),d(6,"translate"),r()()()}if(t&2){let e=c(2);o(2),p("pTooltip",m(3,4,"settings.inserterCapacityTooltip"))("ngModel",e.settings().inserterCapacity)("options",e.inserterCapacityOptions),o(3),x(m(6,6,"settings.inserterCapacity"))}}function wl(t,l){if(t&1){let e=y();a(0,"div",34)(1,"button",35),d(2,"translate"),d(3,"translate"),g("click",function(){h(e);let i=S(5);return b(i.open())}),C(4,"lab-recipe-productivity",null,15),r()()}t&2&&(o(),p("pTooltip",m(2,2,"settings.recipeProductivityTooltip"))("label",m(3,4,"settings.recipeProductivity")))}function Ml(t,l){if(t&1&&(a(0,"p-accordionTab",40),d(1,"translate"),a(2,"div",28),f(3,yl,8,10,"div",31)(4,Il,8,10,"div",31)(5,Sl,7,8,"div",31)(6,Tl,7,8,"div",31)(7,wl,6,6,"div",34),r()()),t&2){let e=c();p("header",m(1,6,"settings.bonuses")),o(3),I(e.data().flags.has("miningSpeed")?3:-1),o(),I(e.data().flags.has("miningProductivity")?4:-1),o(),I(e.data().flags.has("researchSpeed")?5:-1),o(),I(e.data().flags.has("inserterEstimation")?6:-1),o(),I(e.data().canProdUpgradeRecipeIds.length?7:-1)}}var Qn=(()=>{class t{get search(){return window.location.search.substring(1)}constructor(){this.router=w(Pi),this.contentSvc=w(me),this.datasetsSvc=w(Ki),this.machinesSvc=w(rn),this.preferencesSvc=w(Te),this.recipeSvc=w(on),this.routerSvc=w(pn),this.settingsSvc=w(ae),this.translateSvc=w(Se),this.active=!1,this.hidden=!1,this.modId=this.settingsSvc.modId,this.gameInfo=this.settingsSvc.gameInfo,this.data=this.settingsSvc.dataset,this.i18nWithDefault=this.settingsSvc.i18nWithDefault,this.savedStates=this.settingsSvc.stateOptions,this.gameStates=this.settingsSvc.modStates,this.settings=this.settingsSvc.settings,this.options=this.settingsSvc.options,this.columnsState=this.settingsSvc.columnsState,this.presetOptions=this.settingsSvc.presetOptions,this.modOptions=this.settingsSvc.modOptions,this.defaults=this.settingsSvc.defaults,this.preferences=this.preferencesSvc.state,this.machinesState=this.machinesSvc.settings,this.machineIds=ye(()=>[...this.settings().machineRankIds]),this.state="",this.editValue="",this.editState=null,this.editStateMenu=[{label:"settings.createSavedState",icon:"fa-solid fa-plus",command:()=>{this.openCreateState()}},{label:"settings.saveSavedState",icon:"fa-solid fa-floppy-disk",command:()=>{this.preferencesSvc.saveState(this.data().modId,this.state,this.search)}},{label:"settings.editSavedState",icon:"fa-solid fa-pencil",command:()=>{this.editValue=this.state,this.editState="edit"}},{label:"settings.deleteSavedState",icon:"fa-solid fa-trash",command:()=>{this.preferencesSvc.removeState(this.data().modId,this.state),this.state=""}}],this.versionsVisible=!1,this.recipeProdVisible=!1,this.displayRateOptions=Et,this.gameOptions=$i,this.inserterCapacityOptions=Zi,this.inserterTargetOptions=Gi,this.languageOptions=qi,this.powerUnitOptions=Qi,this.researchSpeedOptions=en,this.themeOptions=Wi,this.maximizeTypeOptions=Yi,this.qualityOptions=Ji,this.ItemId=Ni,this.rational=oe,this.isStandalone=window.matchMedia("(display-mode: standalone)").matches,Ct(()=>{let e=this.settingsSvc.modStates();this.state=li(Object.keys(e).find(n=>e[n]===this.search),"")})}clickResetSettings(){this.translateSvc.multi(["settings.reset","settings.resetWarning","yes","cancel"]).pipe(He()).subscribe(([e,n,i,s])=>{this.contentSvc.confirm({icon:"fa-solid fa-exclamation-triangle",header:e,message:n,acceptLabel:i,rejectLabel:s,accept:()=>fi(this,null,function*(){localStorage.clear(),yield this.router.navigate([this.modId()]),this.contentSvc.reload()})})})}setSearch(e){let n=this.router.parseUrl(this.router.url);new URLSearchParams(e).forEach((s,u)=>n.queryParams[u]=s),this.router.navigateByUrl(n)}copySearchToClipboard(e){navigator.clipboard.writeText(e)}setState(e,n){let i=n[e];i&&(this.state=e,this.router.navigate([],{queryParams:this.routerSvc.toParams(i)}))}clickSaveState(){!this.editValue||!this.editState||(this.preferencesSvc.saveState(this.data().modId,this.editValue,this.search),this.editState==="edit"&&this.state&&this.preferencesSvc.removeState(this.data().modId,this.state),this.editState=null,this.state=this.editValue)}openCreateState(){this.editValue="",this.editState="create"}setGame(e){this.setMod(tn[e].modId)}setMod(e){this.router.navigate([e,"list"])}changeLocations(e){this.settingsSvc.updateField("locationIds",new Set(e),this.settings().defaultLocationIds)}changeModules(e,n){let i=this.recipeSvc.dehydrateModules(n,li(this.machinesState()[e].moduleOptions,[]),this.settings().moduleRankIds,this.data().machineEntities[e].modules);this.machinesSvc.updateEntity(e,{modules:i})}changeBeacons(e,n){let i=this.settings().beacons,s=this.recipeSvc.dehydrateBeacons(n,i);this.machinesSvc.updateEntity(e,{beacons:s})}changeDefaultBeacons(e){let n=this.defaults()?.beacons,i=this.recipeSvc.dehydrateBeacons(e,n);this.settingsSvc.apply({beacons:i})}toggleBeaconReceivers(e){let n=e?oe.one:void 0;this.settingsSvc.apply({beaconReceivers:n})}addMachine(e){let n=[...this.settings().machineRankIds,e];this.settingsSvc.updateField("machineRankIds",n,this.settings().defaultMachineRankIds)}setMachine(e,n){let i=this.settings().machineRankIds.map(s=>s===e?n:s);this.settingsSvc.updateField("machineRankIds",i,this.settings().defaultMachineRankIds)}removeMachine(e){let n=this.settings().machineRankIds.filter(i=>i!==e);this.settingsSvc.updateField("machineRankIds",n,this.settings().defaultMachineRankIds)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=V({type:t,selectors:[["lab-settings"]],hostVars:4,hostBindings:function(n,i){n&2&&K("active",i.active)("hidden",i.hidden)},inputs:{active:"active",hidden:"hidden"},standalone:!0,features:[U],decls:130,vars:152,consts:[["techPicker",""],["recipesPicker",""],["itemsPicker",""],["costsDlg",""],["search",""],["nameCtrl","ngModel"],["stateMenu",""],["locationsSelect",""],["tooltip",""],["overclockInput",""],["beaconsOverlay",""],["modulesOverlay",""],["flowRateInput",""],["miningBonusInput",""],["miningProdInput",""],["recipeProdDlg",""],[1,"p-3"],[1,"d-flex","align-items-center","justify-content-between"],["pButton","","pRipple","","type","button","icon","fa-solid fa-trash","tooltipPosition","bottom",1,"p-button-rounded","p-button-text",3,"click","pTooltip"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-rounded","p-button-text","d-inline-flex","d-none","d-xl-inline-flex",3,"click"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-rounded","p-button-text","d-inline-flex","d-sm-none",3,"click"],[1,"flex-grow-1","overflow-hidden"],["styleClass","mb-5"],[3,"multiple"],["pTemplate","header"],[1,"p-inputgroup","mb-2"],[1,"p-inputgroup"],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-outlined","p-button-rounded","w-100",3,"label"],[1,"p-fluid"],[1,"game-info"],[1,"game-name"],[1,"mt-3","pb-3"],["pButton","","pRipple","","type","button","icon","fa-solid fa-microchip",1,"p-button-rounded","p-button-outlined",3,"click","pTooltip","label"],[3,"selectIds"],[1,"pb-3"],["pButton","","pRipple","","type","button","icon","fa-solid fa-flask-vial",1,"p-button-rounded","p-button-outlined",3,"click","pTooltip","label"],[3,"selectIds","header"],["pButton","","pRipple","","type","button","icon","fa-solid fa-boxes-stacked",1,"p-button-rounded","p-button-outlined",3,"click","pTooltip","label"],[3,"selected"],[1,"mt-3"],[3,"header"],[1,"p-float-label"],["labDropdownTranslate","","inputId","display-rate",3,"onChange","pTooltip","ngModel","options"],["for","display-rate"],[1,"text-end"],["labDropdownTranslate","","inputId","language",3,"onChange","pTooltip","ngModel","options"],["for","language"],["labDropdownTranslate","","inputId","theme",3,"onChange","pTooltip","ngModel","options"],["for","theme"],[3,"onChange","binary","label","ngModel"],[3,"onChange","ngModel","binary","label"],["labDropdownTranslate","","inputId","maximize-type",3,"onChange","pTooltip","ngModel","options"],["for","maximize-type"],["tooltipPosition","top",3,"onChange","ngModel","binary","label","pTooltip"],["pButton","","pRipple","","type","button","icon","fa-solid fa-dollar-sign",1,"p-button-rounded","p-button-outlined","mb-4",3,"click","label"],[1,"d-flex","align-items-center","justify-content-between","flex-grow-1"],["pButton","","pRipple","","type","button","icon","fa-solid fa-arrow-up-right-from-square",1,"p-button-outlined",3,"click"],["pInputText","","type","text",3,"ngModel"],["pButton","","pRipple","","type","button","icon","fa-solid fa-copy",1,"p-button-outlined",3,"click"],["pInputText","","pAutoFocus","","type","text","tooltipPosition","top","required","",3,"ngModelChange","keydown.enter","placeholder","pTooltip","ngModel"],["pButton","","pRipple","","type","button","icon","fa-solid fa-floppy-disk","tooltipPosition","top",1,"p-button-outlined",3,"click","pTooltip","disabled"],["pButton","","pRipple","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined",3,"click","pTooltip"],["tooltipPosition","top",3,"onChange","placeholder","pTooltip","ngModel","options"],["pButton","","pRipple","","type","button","icon","fa-solid fa-ellipsis-vertical",1,"p-button-outlined"],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-outlined",3,"pTooltip"],["pButton","","pRipple","","type","button","icon","fa-solid fa-ellipsis-vertical",1,"p-button-outlined",3,"click"],["appendTo","body",3,"popup","model"],["pTemplate","item"],["pRipple","",1,"p-menuitem-link"],[1,"p-menuitem-icon",3,"ngClass"],[1,"p-menuitem-text"],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-outlined",3,"click","pTooltip"],["pButton","","pRipple","","type","button","icon","fa-solid fa-plus",1,"p-button-outlined","p-button-rounded","w-100",3,"click","label"],["for","locations",1,"p-static-label"],["inputId","locations","styleClass","icons","appendTo","body","scrollHeight","40vh","panelStyleClass","tooltip",3,"onPanelHide","pTooltip","ngModel","options"],["pTemplate","selectedItems"],[1,"d-flex"],[1,"mx-2",3,"class"],[1,"mx-2"],[1,"d-flex","align-items-center","p-2","w-100","h-100",3,"pTooltip"],[1,"ms-3","text-truncate"],["for","modifier-rank",1,"p-static-label"],["inputId","modifier-rank","styleClass","icons","appendTo","body","scrollHeight","40vh","panelStyleClass","tooltip",3,"onChange","pTooltip","ngModel","options"],["type","module",3,"id"],["for","fuel-rank",1,"p-static-label"],["inputId","fuel-rank","styleClass","icons","appendTo","body","scrollHeight","40vh","panelStyleClass","tooltip",3,"onChange","pTooltip","ngModel","options"],["type","fuel",3,"id"],[1,"p-inputgroup","flex-wrap","machine-preference","mb-1"],[1,"p-inputgroup-addon","icon-width",3,"pTooltip"],[1,"fa-solid","fa-industry"],["labDropdownBase","icon",3,"onChange","ngModel","pTooltip","options"],["pTemplate","selectedItem"],["labNoDrag","","suffix","%","incrementButtonClass","p-button-outlined","decrementButtonClass","p-button-outlined","inputStyleClass","text-end",3,"min","max","step","maxFractionDigits","showButtons","pTooltip","ngModel"],[3,"onReorder","value","dragdrop"],[1,"pt-2"],[1,"d-flex","align-items-center","justify-content-center","h-100"],[1,"fa-solid","fa-plus"],[1,"d-flex","align-items-center","py-2","w-100","h-100",3,"pTooltip"],["type","machine",3,"id"],["labNoDrag","","suffix","%","incrementButtonClass","p-button-outlined","decrementButtonClass","p-button-outlined","inputStyleClass","text-end",3,"onBlur","min","max","step","maxFractionDigits","showButtons","pTooltip","ngModel"],["pButton","","pRipple","","type","button",1,"hover-action","icons","p-button-text","flex-column",3,"click","pTooltip"],[1,"hover-icon","fa-solid","fa-gear"],[3,"setValue"],[1,"p-button-icon"],[1,"p-button-icon",3,"class"],["type","beacon",3,"id"],[1,"p-inputgroup","flex-wrap","machine-preference"],["pButton","","pRipple","","type","button","icon","fa-solid fa-grip-lines",1,"p-button-outlined","cursor-grab"],["labDropdownBase","icon","labNoDrag","",3,"onChange","pTooltip","ngModel","options"],["labDropdownBase","icon","labNoDrag","",3,"pTooltip","ngModel","options"],["pButton","","pRipple","","labNoDrag","","type","button","icon","fa-solid fa-xmark",1,"p-button-outlined","ms-auto",3,"click","pTooltip"],["pButton","","pRipple","","type","button",1,"hover-action","icons","p-button-text",3,"click","pTooltip"],["tooltipPosition","bottom",3,"onChange","ngModel","binary","label","pTooltip"],["for","beacon-receivers",1,"p-static-label"],["inputId","beacon-receivers",1,"w-100",3,"setValue","pTooltip","value"],["labDropdownBase","","inputId","proliferator-self-spray",3,"onChange","autoDisplayFirst","pTooltip","ngModel","options"],["for","proliferator-self-spray"],[1,"d-flex","align-items-center","h-100"],["labDropdownBase","","inputId","default-transport-belt",3,"onChange","pTooltip","ngModel","options"],["for","default-transport-belt"],["type","belt",3,"id"],["for","stack",1,"p-static-label"],["inputId","stack",1,"w-100",3,"setValue","pTooltip","value","minimum"],["labDropdownBase","","inputId","default-pipe",3,"onChange","pTooltip","ngModel","options"],["for","default-pipe"],["type","pipe",3,"id"],["labDropdownBase","","inputId","default-cargo-wagon",3,"onChange","pTooltip","ngModel","options"],["for","default-cargo-wagon"],["type","cargo-wagon",3,"id"],["labDropdownBase","","inputId","default-fluid-wagon",3,"onChange","pTooltip","ngModel","options"],["for","default-fluid-wagon"],["type","fluid-wagon",3,"id"],["inputId","pipe-flow-rate","incrementButtonClass","p-button-outlined","decrementButtonClass","p-button-outlined",3,"onBlur","suffix","min","step","showButtons","pTooltip","ngModel"],["for","pipe-flow-rate"],[1,"position-absolute","end-0","bottom-100","me-1","mb-1"],["href","https://wiki.factorio.com/Fluid_system#Pipelines","target","_blank"],["labDropdownTranslate","","inputId","inserter-target",3,"onChange","pTooltip","ngModel","options"],["for","inserter-target"],["inputId","mining-speed","suffix","%","incrementButtonClass","p-button-outlined","decrementButtonClass","p-button-outlined",3,"onInput","min","step","showButtons","pTooltip","ngModel"],["for","mining-speed"],["inputId","mining-productivity","prefix","+","suffix","%","incrementButtonClass","p-button-outlined","decrementButtonClass","p-button-outlined",3,"onBlur","min","step","showButtons","pTooltip","ngModel"],["for","mining-productivity"],["labDropdownTranslate","","inputId","research-bonus",3,"onChange","pTooltip","ngModel","options"],["for","research-speed"],["labDropdownTranslate","","inputId","inserter-capacity",3,"onChange","pTooltip","ngModel","options"],["for","inserter-capacity"]],template:function(n,i){if(n&1){let s=y();a(0,"div",16)(1,"div",17)(2,"h2"),_(3),d(4,"translate"),r(),a(5,"div")(6,"button",18),d(7,"translate"),g("click",function(){return h(s),b(i.clickResetSettings())}),r(),a(8,"button",19),g("click",function(){return h(s),b(i.contentSvc.toggleSettingsXl())}),r(),a(9,"button",20),g("click",function(){return h(s),b(i.contentSvc.toggleSettings())}),r()()()(),a(10,"div",21)(11,"p-scrollPanel",22)(12,"p-accordion",23)(13,"p-accordionTab"),f(14,Ns,5,4,"ng-template",24)(15,$s,5,1,"div",25)(16,Ks,9,14,"div",25)(17,Ws,6,9,"div",26)(18,Zs,2,3,"button",27),r(),a(19,"p-accordionTab"),f(20,Gs,4,3,"ng-template",24),a(21,"div",28)(22,"div",29),C(23,"i"),d(24,"iconClass"),a(25,"span",30),_(26),d(27,"translate"),r(),j(28,Xs,2,1,"small",null,Ls),d(30,"keyvalue"),r(),a(31,"div",31)(32,"button",32),d(33,"translate"),d(34,"translate"),d(35,"translate"),g("click",function(){h(s);let v=S(37);return b(v.clickOpen(i.settings().researchedTechnologyIds))}),r(),a(36,"lab-tech-picker",33,0),g("selectIds",function(v){return h(s),b(i.settingsSvc.apply({researchedTechnologyIds:v}))}),r()(),a(38,"div",34)(39,"button",35),d(40,"translate"),d(41,"translate"),g("click",function(){h(s);let v=S(43);return b(v.clickOpen("recipe",i.data().recipeIds,i.settings().excludedRecipeIds))}),r(),a(42,"lab-picker",36,1),d(44,"translate"),g("selectIds",function(v){return h(s),b(i.settingsSvc.updateField("excludedRecipeIds",v,i.settings().defaultExcludedRecipeIds))}),r()(),a(45,"div")(46,"button",37),d(47,"translate"),d(48,"translate"),g("click",function(){h(s);let v=S(50);return b(v.clickOpen("item",i.data().itemIds,i.settings().excludedItemIds))}),r(),a(49,"lab-picker",36,2),d(51,"translate"),g("selectIds",function(v){return h(s),b(i.settingsSvc.apply({excludedItemIds:v}))}),r()()()(),a(52,"p-accordionTab",38),f(53,Ys,4,3,"ng-template",24),a(54,"div",28),f(55,ir,10,10,"div",34)(56,rr,8,8,"div",34)(57,mr,8,8,"div",34)(58,Zr,14,17)(59,Gr,4,8,"div",34)(60,Xr,6,7,"div",34)(61,tl,9,9,"div",31)(62,sl,9,8,"div",31)(63,rl,6,8,"div",34)(64,dl,9,8,"div",31)(65,gl,9,8,"div",31)(66,Cl,9,8,"div",31)(67,vl,13,16,"div",31)(68,xl,7,8,"div",39),r()(),f(69,Ml,8,8,"p-accordionTab",40),a(70,"p-accordionTab",40),d(71,"translate"),a(72,"div",28)(73,"div",31)(74,"span",41)(75,"p-dropdown",42),d(76,"translate"),g("onChange",function(v){return h(s),b(i.settingsSvc.apply({displayRate:v.value}))}),r(),a(77,"label",43),_(78),d(79,"translate"),r()()(),a(80,"div",31),C(81,"div",44),a(82,"div",41)(83,"p-dropdown",45),d(84,"translate"),g("onChange",function(v){return h(s),b(i.preferencesSvc.apply({language:v.value}))}),r(),a(85,"label",46),_(86),d(87,"translate"),r()()(),a(88,"div",31)(89,"div",41)(90,"p-dropdown",47),d(91,"translate"),g("onChange",function(v){return h(s),b(i.preferencesSvc.apply({theme:v.value}))}),r(),a(92,"label",48),_(93),d(94,"translate"),r()()(),a(95,"div",34)(96,"p-checkbox",49),d(97,"translate"),g("onChange",function(v){return h(s),b(i.preferencesSvc.apply({bypassLanding:v.checked}))}),r()(),a(98,"div",34)(99,"p-checkbox",50),d(100,"translate"),g("onChange",function(v){return h(s),b(i.preferencesSvc.apply({hideDuplicateIcons:v.checked}))}),r()(),a(101,"div")(102,"p-checkbox",50),d(103,"translate"),g("onChange",function(v){return h(s),b(i.preferencesSvc.apply({disablePaginator:v.checked}))}),r()()()(),a(104,"p-accordionTab",40),d(105,"translate"),a(106,"div",28)(107,"div",31)(108,"span",41)(109,"p-dropdown",51),d(110,"translate"),g("onChange",function(v){return h(s),b(i.settingsSvc.apply({maximizeType:v.value}))}),r(),a(111,"label",52),_(112),d(113,"translate"),r()()(),a(114,"div",34)(115,"p-checkbox",53),d(116,"translate"),d(117,"translate"),g("onChange",function(v){return h(s),b(i.settingsSvc.apply({netProductionOnly:v.checked}))}),r()(),a(118,"div",34)(119,"p-checkbox",53),d(120,"translate"),d(121,"translate"),g("onChange",function(v){return h(s),b(i.settingsSvc.apply({requireMachinesOutput:v.checked}))}),r()(),a(122,"div",34)(123,"p-checkbox",53),d(124,"translate"),d(125,"translate"),g("onChange",function(v){return h(s),b(i.preferencesSvc.apply({convertObjectiveValues:v.checked}))}),r()(),a(126,"button",54),d(127,"translate"),g("click",function(){h(s);let v=S(129);return b(v.open(i.settings().costs))}),r()()()()()(),C(128,"lab-costs",null,3)}if(n&2){let s;o(3),x(m(4,74,"settings.header")),o(3),p("pTooltip",m(7,76,"settings.reset")),o(5),fe(z(145,js)),o(),p("multiple",!0),o(3),I(i.isStandalone?15:-1),o(),I(i.editState?16:i.savedStates().length?17:18),o(7),T(m(24,78,i.gameInfo().icon)),o(3),E(" ",m(27,80,i.gameInfo().label)," "),o(2),H(m(30,82,i.data().version)),o(4),p("pTooltip",m(33,84,"settings.techsTooltip"))("label",i.settings().researchedTechnologyIds?te(34,86,"settings.techsResearched",O(146,gi,i.settings().researchedTechnologyIds.size)):m(35,89,"settings.allTechsResearched")),o(7),p("pTooltip",m(40,91,"settings.recipesTooltip"))("label",te(41,93,"settings.recipesExcluded",O(148,gi,i.settings().excludedRecipeIds.size))),o(3),p("header",m(44,96,"settings.recipesHeader")),o(4),p("pTooltip",m(47,98,"settings.itemsTooltip"))("label",te(48,100,"settings.itemsExcluded",O(150,gi,i.settings().excludedItemIds.size))),o(3),p("header",m(51,103,"settings.itemsHeader")),o(3),p("selected",!0),o(3),I(i.options().locations.length?55:-1),o(),I(i.options().modules.length?56:-1),o(),I(i.data().flags.has("fuels")?57:-1),o(),I(i.data().flags.has("hideMachineSettings")?-1:58),o(),I(i.data().flags.has("beacons")?59:-1),o(),I((s=i.settings().beaconReceivers)?60:-1,s),o(),I(i.data().flags.has("proliferator")?61:-1),o(),I(i.options().belts.length>1?62:-1),o(),I(i.data().flags.has("beltStack")?63:-1),o(),I(i.options().pipes.length>1?64:-1),o(),I(i.options().cargoWagons.length>1?65:-1),o(),I(i.options().fluidWagons.length>1?66:-1),o(),I(i.data().flags.has("flowRate")?67:-1),o(),I(i.data().flags.has("inserterEstimation")?68:-1),o(),I(i.data().flags.has("inserterEstimation")||i.data().flags.has("miningSpeed")||i.data().flags.has("miningProductivity")||i.data().flags.has("researchSpeed")||i.data().canProdUpgradeRecipeIds.length?69:-1),o(),p("header",m(71,105,"settings.display")),o(5),p("pTooltip",m(76,107,"settings.displayRateTooltip"))("ngModel",i.settings().displayRate)("options",i.displayRateOptions),o(3),x(m(79,109,"settings.displayRate")),o(5),p("pTooltip",m(84,111,"settings.languageTooltip"))("ngModel",i.preferences().language)("options",i.languageOptions),o(3),x(m(87,113,"settings.language")),o(4),p("pTooltip",m(91,115,"settings.themeTooltip"))("ngModel",i.preferences().theme)("options",i.themeOptions),o(3),x(m(94,117,"settings.theme")),o(3),p("binary",!0)("label",m(97,119,"settings.bypassLanding"))("ngModel",i.preferences().bypassLanding),o(3),p("ngModel",i.preferences().hideDuplicateIcons)("binary",!0)("label",m(100,121,"settings.hideDuplicateIcons")),o(3),p("ngModel",i.preferences().disablePaginator)("binary",!0)("label",m(103,123,"settings.disablePaginator")),o(2),p("header",m(105,125,"settings.advanced")),o(5),p("pTooltip",m(110,127,"settings.maximizeTypeTooltip"))("ngModel",i.settings().maximizeType)("options",i.maximizeTypeOptions),o(3),x(m(113,129,"settings.maximizeType")),o(3),p("ngModel",i.settings().netProductionOnly)("binary",!0)("label",m(116,131,"settings.netProductionOnly"))("pTooltip",m(117,133,"settings.netProductionOnlyTooltip")),o(4),p("ngModel",i.settings().requireMachinesOutput)("binary",!0)("label",m(120,135,"settings.requireMachinesOutput"))("pTooltip",m(121,137,"settings.requireMachinesOutputTooltip")),o(4),p("ngModel",i.preferences().convertObjectiveValues)("binary",!0)("label",m(124,139,"settings.convertObjectiveValues"))("pTooltip",m(125,141,"settings.convertObjectiveValuesTooltip")),o(3),p("label",m(127,143,"settings.openCosts"))}},dependencies:[Me,Pt,we,mn,ue,Mi,ce,Wt,ft,gt,F,$,de,ot,nt,Ae,At,Dt,qt,Ut,Lt,Rt,Ln,_i,_e,xn,vn,Mt,wt,Ht,jt,Qt,Q,Sn,Nn,un,$t,In,Re,it,Tn,Kt,Nt,$n,qn,jn,st,q,zt],styles:["[_nghost-%COMP%]{display:flex;position:fixed;top:0;left:0;flex-direction:column;transition:transform .4s cubic-bezier(.05,.74,.2,.99);z-index:4;background-color:var(--surface-overlay);width:322px;height:100%}@media (max-width: 1199.98px){[_nghost-%COMP%]{transform:translate(-100%)}.active[_nghost-%COMP%]{transform:translate(0)}}@media (min-width: 1200px){.hidden[_nghost-%COMP%]{transform:translate(-100%)}}[_nghost-%COMP%]     .p-scrollpanel .p-scrollpanel-content{overflow-y:scroll}[_nghost-%COMP%]     .p-scrollpanel .p-scrollpanel-bar-x{visibility:hidden}[_nghost-%COMP%]     .p-accordion{width:323px}.icon-width[_ngcontent-%COMP%]{width:36px}.game-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:4px}.game-info[_ngcontent-%COMP%]   .game-name[_ngcontent-%COMP%]{font-size:18px;flex-grow:1}.game-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0})}}return t})();function kl(t,l){t&1&&(a(0,"div",28),C(1,"i",29),a(2,"span"),_(3,"\u6E29\u99A8\u63D0\u793A & \u64CD\u4F5C\u6307\u5357"),r(),a(4,"span",30),_(5,"(\u70B9\u51FB\u5C55\u5F00)"),r()())}function El(t,l){if(t&1&&(a(0,"a",6),C(1,"i",31),_(2),r()),t&2){let e=l.$implicit,n=c();p("href",n.environment.baseHref+e.url,Ne),o(2),E("",e.name," ")}}function Bl(t,l){t&1&&(a(0,"a",25),C(1,"i",32),_(2,"QQ\u7FA4\uFF1A1071155059 "),r())}var Wn=(()=>{class t{constructor(){this.environment=Hi,this.Language=Ui,this.preferencesSvc=w(Te),this.language=this.preferencesSvc.language,this.examples=[{name:"\u56DB\u53F7\u8C37\u5730\u6BD5\u4E1A\u793A\u4F8B",url:"aef/flow?z=eJwtxqEKgEAQBNC.2TAg7N15YpmyyWA02cSqTBGDXy.ivfTEWAFkEzfUwYFioiP3rQuSj-0dKgowmfigfA0T69.ZdF50O7Qz7GZKL9NzFbY_&v=11"},{name:"\u6B66\u9675\u6BD5\u4E1A\u793A\u4F8B",url:"aef/list?o=jinlong_coupon***2&o=originium_ore*360**3&o=quartz_sand*0**3&o=iron_ore*90**3&o=xiranite_powder*2*3*3*xiranite_oven_1&o=power_proc_battery_4*2*3**power_sta_1&omt=0&loc=A&v=11"}]}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=V({type:t,selectors:[["lab-user-tips"]],standalone:!0,features:[U],decls:131,vars:40,consts:[["styleClass","mb-4"],["pTemplate","header"],[1,"d-flex","flex-column","gap-3"],[1,"fw-bold","mb-2"],[1,"pi","pi-wrench","text-warning","me-2"],[1,"d-flex","flex-wrap","gap-2"],["target","_self",1,"p-button","p-button-outlined","p-button-info","text-decoration-none",3,"href"],[1,"fw-bold","mb-3"],[1,"pi","pi-lightbulb","text-warning","me-2"],[1,"d-flex","flex-column","gap-2"],[1,"d-flex","align-items-start"],[1,"pi","pi-map-marker","text-primary","mt-1","me-2"],[1,"fw-bold"],[1,"fw-bold",2,"text-decoration","underline dotted"],[1,"pi","pi-sitemap","text-primary","mt-1","me-2"],[1,"pi","pi-bolt","text-primary","mt-1","me-2"],[1,"badge","bg-primary","bg-opacity-10","text-primary","border","border-primary","border-opacity-25"],[1,"fa-solid","fa-industry"],[1,"pi","pi-ticket","text-primary","mt-1","me-2"],[1,"fa-solid","fa-box"],[1,"pi","pi-exclamation-circle","text-primary","mt-1","me-2"],[1,"badge","bg-light","text-dark","border"],[1,"pi","pi-box","text-primary","mt-1","me-2"],[1,"pi","pi-save","text-primary","mt-1","me-2"],[1,"pi","pi-headphones","text-warning","me-2"],["href","https://qm.qq.com/cgi-bin/qm/qr?k=iC-fqNEQCr-Bk9bHnvXJcAsbtDr-Y9zO&jump_from=webapi&authKey=FLtoKahiWGJ9utHBluhDa0fqMTV6dUE6DNKy74lCf2wcQ1vUCaxqKAGBxdIUTZcr","target","_blank",1,"p-button","p-button-outlined","p-button-help","text-decoration-none"],["href","https://github.com/endfield-calc/endfield-calc.github.io/issues","target","_blank",1,"p-button","p-button-outlined","p-button-help","text-decoration-none","ms-2"],[1,"pi","pi-github","me-2"],[1,"d-flex","align-items-center"],[1,"pi","pi-compass","text-primary","me-2",2,"font-size","1.2rem"],[1,"ms-2"],[1,"pi","pi-file","me-2"],[1,"pi","pi-comments","me-2"]],template:function(n,i){n&1&&(a(0,"p-accordion",0)(1,"p-accordionTab"),f(2,kl,6,0,"ng-template",1),a(3,"div",2)(4,"div")(5,"h3",3),C(6,"i",4),_(7,"\u793A\u4F8B\u6A21\u677F"),r(),a(8,"div",5),j(9,El,3,2,"a",6,Fe),r()(),a(11,"div")(12,"h3",7),C(13,"i",8),_(14,"\u4F7F\u7528\u5C0F\u6280\u5DE7"),r(),a(15,"div",9)(16,"div",10),C(17,"i",11),a(18,"div")(19,"span",12),_(20,"\u533A\u57DF\u8BA1\u7B97\u9650\u5236\uFF1A"),r(),_(21,"\u9ED8\u8BA4\u542F\u7528\u5168\u533A\u57DF\u3002\u82E5\u53EA\u9700\u8BA1\u7B97\u7279\u5B9A\u533A\u57DF\uFF0C\u8BF7\u5728\u5DE6\u4FA7 "),a(22,"span",13),_(23),d(24,"translate"),d(25,"translate"),r(),_(26," \u8C03\u6574\u52FE\u9009\u3002 "),r()(),a(27,"div",10),C(28,"i",14),a(29,"div")(30,"span",12),_(31,"\u6D41\u7A0B\u56FE\u663E\u793A\uFF1A"),r(),_(32,"\u8BA1\u7B97\u7ED3\u679C\u652F\u6301 "),a(33,"span",13),_(34),d(35,"translate"),r(),_(36," \u5C55\u793A\u7EDF\u8BA1\u6570\u636E \u6216 "),a(37,"span",13),_(38),d(39,"translate"),r(),_(40," \u5C55\u793A\u5DE5\u5E8F\u3002 "),r()(),a(41,"div",10),C(42,"i",15),a(43,"div")(44,"span",12),_(45,"\u53D1\u7535\u91CF\u8BA1\u7B97\uFF1A"),r(),_(46,"\u70B9\u51FB\u6309\u94AE "),a(47,"span",16),C(48,"i",17),_(49),d(50,"translate"),r(),_(51," \u9009\u62E9\u53D1\u7535\u8BBE\u65BD\uFF08\u8BA1\u7B97\u5668\u4E2D\u7684\u53D1\u7535\u91CF\u662F\u7528\u8D1F\u6570\u8868\u793A\u7684\uFF09\u3002 "),r()(),a(52,"div",10),C(53,"i",18),a(54,"div")(55,"span",12),_(56,"\u8C03\u5EA6\u5238\u8BA1\u7B97\uFF1A"),r(),_(57," \u53EF\u901A\u8FC7 "),a(58,"span",16),C(59,"i",19),_(60),d(61,"translate"),r(),_(62," \u76F4\u63A5\u9009\u62E9\u5238\uFF1B \u6216\u5728 "),a(63,"span",16),C(64,"i",17),_(65),d(66,"translate"),r(),_(67," \u4E2D\u9009\u62E9\u4EA7\u54C1\u5151\u6362\uFF08\u8BBE\u5907\u6570=\u4EA7\u7EBF\u6570\uFF09\u3002\u7531\u4E8E\u9879\u76EE\u8BBE\u8BA1\u539F\u56E0\uFF0C\u6700\u7EC8\u4EA7\u7269\u5151\u6362\u8C03\u5EA6\u5238\u4E5F\u4F1A\u663E\u793A\u9700\u8981\u4F20\u9001\u5E26\uFF0C\u65E0\u89C6\u5373\u53EF\u3002 "),r()(),a(68,"div",10),C(69,"i",20),a(70,"div")(71,"span",12),_(72,"\u907F\u514D\u8D85\u4EA7\uFF1A"),r(),_(73,"\u4F8B\u5982\u9650\u5236\u77FF\u7269\u4EA7\u91CF\uFF0C\u53EF\u901A\u8FC7 "),a(74,"span",16),C(75,"i",19),_(76),d(77,"translate"),r(),_(78," \u9009\u62E9\u77FF\u7269\uFF0C\u5E76\u5C06 "),a(79,"span",21),_(80),d(81,"translate"),r(),_(82," \u66F4\u6539\u4E3A "),a(83,"span",21),_(84),d(85,"translate"),r(),_(86,"\u3002 "),r()(),a(87,"div",10),C(88,"i",22),a(89,"div")(90,"span",12),_(91,"\u4EA7\u7EBF\u9009\u62E9\uFF1A"),r(),_(92,"\u4F7F\u7528 "),a(93,"span",16),C(94,"i",19),_(95),d(96,"translate"),r(),_(97," \u6DFB\u52A0\u7684\u662F"),a(98,"span",12),_(99,"\u8F93\u51FA\u76EE\u6807\u4EA7\u7269"),r(),_(100,"\uFF0C\u4F7F\u7528 "),a(101,"span",16),C(102,"i",17),_(103),d(104,"translate"),r(),_(105," \u6DFB\u52A0\u7684\u662F\u8981\u6C42\u6307\u5B9A\u6570\u91CF\u7684"),a(106,"span",12),_(107,"\u4EA7\u7EBF\u4FDD\u6301\u8FD0\u884C"),r(),_(108,"(\u4F1A\u4F18\u5148\u590D\u7528\u8F93\u51FA\u76EE\u6807\u4EA7\u7269\u7684\u5FC5\u5907\u4EA7\u7EBF)\uFF0C "),r()(),a(109,"div",10),C(110,"i",23),a(111,"div")(112,"span",12),_(113,"\u5B58\u6863\u4E0E\u91CD\u7F6E\uFF1A"),r(),_(114,"\u5728\u5DE6\u4FA7 "),a(115,"span",13),_(116),d(117,"translate"),r(),_(118," \u8FDB\u884C\u5B58\u53D6\u6863\u3002\u70B9\u51FB\u4E0A\u65B9 "),a(119,"span",12),_(120,"\u6E38\u620F\u56FE\u6807"),r(),_(121," \u53EF\u91CD\u7F6E\u72B6\u6001\u3002 "),r()()()(),a(122,"div")(123,"h3",3),C(124,"i",24),_(125,"\u53CD\u9988\u4E0E\u5EFA\u8BAE"),r(),a(126,"div",5),f(127,Bl,3,0,"a",25),a(128,"a",26),C(129,"i",27),_(130,"Github Issue "),r()()()()()()),n&2&&(o(9),H(i.examples),o(14),Si("",m(24,14,"settings.factory")," -> ",m(25,16,"settings.locations"),""),o(11),x(m(35,18,"app.list")),o(4),x(m(39,20,"app.flow")),o(11),E(" ",m(50,22,"objectives.addMachines"),""),o(11),E(" ",m(61,24,"objectives.addItems"),""),o(5),E(" ",m(66,26,"objectives.addMachines"),""),o(11),E(" ",m(77,28,"objectives.addItems"),""),o(4),x(m(81,30,"options.objectiveType.output")),o(4),x(m(85,32,"options.objectiveType.limit")),o(11),E(" ",m(96,34,"objectives.addItems"),""),o(8),E(" ",m(104,36,"objectives.addMachines"),""),o(13),x(m(117,38,"settings.savedStates")),o(11),I(i.language()===i.Language.Chinese?127:-1))},dependencies:[Wt,ft,gt,F,$,q],changeDetection:0})}}return t})();var Ol=(t,l)=>({time:t,cost:l});function Pl(t,l){t&1&&C(0,"p-tabMenu",7),t&2&&p("model",l)}function Vl(t,l){if(t&1&&(a(0,"div"),_(1),d(2,"translate"),r()),t&2){let e,n=c(3);o(),E(" ",te(2,1,"app.simplexSolved",le(4,Ol,n.result().time,(e=n.result().cost)==null?null:e.toPrecision(2)))," ")}}function Fl(t,l){if(t&1&&(a(0,"div"),_(1),d(2,"translate"),r()),t&2){let e=c(3);o(),E(" ",m(2,1,"options.simplexResultType."+e.result().resultType)," ")}}function Dl(t,l){if(t&1&&(a(0,"div",9),f(1,Vl,3,7,"div")(2,Fl,3,3,"div"),a(3,"span"),_(4),d(5,"async"),a(6,"a",10),_(7,"FactorioLab"),r()()()),t&2){let e=c(2);o(),I(e.result().resultType===e.SimplexResultType.Solved?1:2),o(3),E("",m(5,2,e.contentSvc.version$)," | Power By ")}}function Al(t,l){if(t&1&&(C(0,"lab-user-tips")(1,"lab-objectives"),a(2,"p-card",6),d(3,"translate"),f(4,Pl,1,1,"p-tabMenu",7),d(5,"async"),C(6,"router-outlet"),f(7,Dl,8,4,"ng-template",8),r()),t&2){let e,n=c();o(2),p("header",m(3,2,"app.factory")),o(2),I((e=m(5,4,n.tabItems$))?4:-1,e)}}function Rl(t,l){t&1&&(a(0,"div",5),C(1,"p-progressSpinner"),r())}var Zn=(()=>{class t{constructor(){this.contentSvc=w(me),this.objectivesSvc=w(tt),this.settingsSvc=w(ae),this.translateSvc=w(Se),this.mod=this.settingsSvc.mod,this.result=this.objectivesSvc.matrixResult,this.tabItems$=this.translateSvc.multi(["app.list","app.flow","app.data"]).pipe(rt(([e,n,i])=>[{label:e,icon:"fa-solid fa-list",routerLink:"list",queryParamsHandling:"preserve"},{label:n,icon:"fa-solid fa-diagram-project",routerLink:"flow",queryParamsHandling:"preserve"},{label:i,icon:"fa-solid fa-database",routerLink:"data",queryParamsHandling:"preserve"}])),this.SimplexResultType=ct}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=V({type:t,selectors:[["lab-main"]],standalone:!0,features:[U],decls:7,vars:9,consts:[[3,"sticky","settingsXlHidden"],[3,"active","hidden"],["role","none",1,"layout-mask",3,"click"],[1,"layout-content"],[1,"px-sm-4","py-4"],[1,"d-flex","flex-column","align-items-center","mt-5"],["styleClass","mt-4",3,"header"],[3,"model"],["pTemplate","footer"],[1,"d-flex","align-items-center","justify-content-between"],["target","_blank","href","https://factoriolab.github.io/"]],template:function(n,i){n&1&&(C(0,"lab-header",0)(1,"lab-settings",1),a(2,"div",2),g("click",function(){return i.contentSvc.toggleSettings()}),r(),a(3,"div",3)(4,"main",4),f(5,Al,8,6)(6,Rl,2,0,"div",5),r()()),n&2&&(p("sticky",i.contentSvc.scrollTop()>16)("settingsXlHidden",i.contentSvc.settingsXlHidden()),o(),p("active",i.contentSvc.settingsActive())("hidden",i.contentSvc.settingsXlHidden()),o(),K("active",i.contentSvc.settingsActive()),o(),K("settings-xl-hidden",i.contentSvc.settingsXlHidden()),o(2),I(i.mod()?5:6))},dependencies:[xt,Ft,Vt,F,gn,_n,hn,fn,Oi,Mn,Pn,Qn,Wn,q],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%}.layout-content[_ngcontent-%COMP%]{transition:margin .4s cubic-bezier(.05,.74,.2,.99);margin-left:320px;padding-top:4rem}@media (max-width: 1199.98px){.layout-content[_ngcontent-%COMP%]{margin-left:0;padding-top:6rem}}@media (min-width: 1200px){.layout-content.settings-xl-hidden[_ngcontent-%COMP%]{margin-left:0}}@media (max-width: 1199.98px){.layout-mask.active[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:3;background-color:var(--maskbg);width:100%;height:100%}}"],changeDetection:0})}}return t})();var g0=[{path:"",component:Zn,children:[{path:"list",loadComponent:()=>import("./chunk-3E3W64GD.js").then(t=>t.ListComponent)},{path:"flow",loadComponent:()=>import("./chunk-JLMFC5CM.js").then(t=>t.FlowComponent)},{path:"data",loadChildren:()=>import("./chunk-VDFOSTLO.js").then(t=>t.routes)}]}];export{g0 as routes};
