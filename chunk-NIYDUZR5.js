import{a as ee,b as te}from"./chunk-N4SMLESC.js";import{a as Y,b as Z,e as le}from"./chunk-5JBOABLW.js";import{a as pe,b as se}from"./chunk-NJAA4E6E.js";import{b as K}from"./chunk-QAZTS46K.js";import"./chunk-VY6HPWEQ.js";import"./chunk-GJAUI2PQ.js";import{a as oe,b as ae}from"./chunk-SZ5JGITD.js";import"./chunk-KLLSQCUX.js";import{b as U,d as M,t as G}from"./chunk-TTREDB2Y.js";import{a as re}from"./chunk-D5WTUWMQ.js";import{f as ie,g as ne}from"./chunk-6BPK26BV.js";import{e as J,f as Q,h as X}from"./chunk-EPRW5GBD.js";import"./chunk-KNSUQCOB.js";import"./chunk-E2UXUI3O.js";import{f as z,g as A}from"./chunk-FVTG5UFD.js";import{t as F}from"./chunk-GQAVQ4YK.js";import"./chunk-QYWBLUQO.js";import{$ as g,Ab as r,Ba as x,Ea as c,Fd as w,Ia as L,Ja as h,Ld as I,Ma as O,Mc as k,Na as T,Oa as p,Pa as s,Qa as m,Qd as N,S as _,T as B,Ua as C,Va as v,Wa as d,Zb as E,_ as f,_b as D,bd as W,db as S,eb as b,fb as V,gb as y,lc as j,ma as P,nc as H,oc as q,pb as R,qa as n,wd as $,zb as a}from"./chunk-VWE6SOOG.js";import"./chunk-TWZW5B45.js";var ce=(i,u)=>u.key;function de(i,u){if(i&1&&(p(0,"small"),b(1),s()),i&2){let e,t=u.$implicit,o=d(2);n(),y(" ",(e=(e=o.i18nWithDefault())==null||e.version==null?null:e.version[t.key])!==null&&e!==void 0?e:t.value," ")}}function me(i,u){i&1&&m(0,"p-divider")}function ue(i,u){if(i&1){let e=C();p(0,"span",12)(1,"span",17),m(2,"i",18),s(),p(3,"p-dropdown",19),a(4,"translate"),v("onChange",function(o){f(e);let l=d(2);return g(l.setState(l.states()[o.value]))}),s()()}if(i&2){let e=d(2);n(3),c("placeholder",r(4,2,"landing.loadSavedState"))("options",e.stateOptions())}}function _e(i,u){if(i&1){let e=C();p(0,"button",20),a(1,"translate"),v("click",function(){let o=f(e),l=d(2);return g(l.router.navigateByUrl(o))}),s()}i&2&&c("label",r(1,1,"landing.loadLastState"))}function fe(i,u){if(i&1){let e=C();p(0,"p-card")(1,"div",3)(2,"div",4),m(3,"img",5),a(4,"translate"),s(),p(5,"div",6),m(6,"i"),a(7,"iconClass"),p(8,"span",7),b(9),a(10,"translate"),s(),O(11,de,2,1,"small",null,ce),a(13,"keyvalue"),s(),m(14,"p-divider")(15,"div",8),a(16,"translate"),p(17,"button",9),a(18,"translate"),v("click",function(){f(e);let o=S(22),l=d();return g(o.clickOpen("item",l.settings().availableItemIds))}),s(),p(19,"button",10),a(20,"translate"),v("click",function(){f(e);let o=S(25),l=d();return g(o.clickOpen("recipe",l.settings().availableRecipeIds))}),s(),p(21,"lab-picker",11,0),a(23,"translate"),v("selectId",function(o){f(e);let l=d();return g(l.selectItem(o))}),s(),p(24,"lab-picker",11,1),a(26,"translate"),v("selectId",function(o){f(e);let l=d();return g(l.selectRecipe(o))}),s(),x(27,me,1,0,"p-divider")(28,ue,5,4,"span",12)(29,_e,2,3,"button",13),m(30,"p-divider")(31,"button",14),a(32,"translate"),m(33,"button",15),a(34,"translate"),p(35,"p-checkbox",16),a(36,"translate"),v("onChange",function(o){f(e);let l=d();return g(l.preferencesSvc.apply({bypassLanding:o.checked}))}),s()()()}if(i&2){let e,t=d();n(3),c("alt",r(4,17,"app.name")),n(3),L(r(7,19,t.gameInfo[t.data().game].icon)),n(3),y(" ",r(10,21,t.gameInfo[t.data().game].label)," "),n(2),T(r(13,23,t.data().version)),n(4),c("innerHTML",r(16,25,"landing.welcome"),P),n(2),c("label",r(18,27,"landing.addItems")),n(2),c("label",r(20,29,"landing.addMachines")),n(2),c("header",r(23,31,"landing.selectAnItem")),n(3),c("header",r(26,33,"landing.selectARecipe")),n(3),h(t.stateOptions().length||t.routerSvc.stored()?27:-1),n(),h(t.stateOptions().length?28:-1),n(),h((e=t.routerSvc.stored())?29:-1,e),n(2),c("label",r(32,35,"landing.help")),n(2),c("label",r(34,37,"landing.skip")),n(2),c("binary",!0)("label",r(36,39,"landing.bypass"))("ngModel",t.preferencesSvc.state().bypassLanding)}}function ge(i,u){i&1&&m(0,"p-progressSpinner")}var Qe=(()=>{class i{constructor(){this.router=_(H),this.route=_(j),this.contentSvc=_(U),this.objectivesSvc=_(G),this.preferencesSvc=_($),this.routerSvc=_(K),this.settingsSvc=_(N),this.modId=this.settingsSvc.modId,this.mod=this.settingsSvc.mod,this.i18nWithDefault=this.settingsSvc.i18nWithDefault,this.data=this.settingsSvc.dataset,this.settings=this.settingsSvc.settings,this.states=this.settingsSvc.modStates,this.stateOptions=this.settingsSvc.stateOptions,this.modOptions=this.settingsSvc.modOptions,this.gameInfo=I,this.gameOptions=W}selectItem(e){this.objectivesSvc.create({targetId:e,value:k.one,unit:w.Items,type:M.Output}),this.router.navigate(["list"],{relativeTo:this.route,queryParamsHandling:"preserve"})}selectRecipe(e){this.objectivesSvc.create({targetId:e,value:k.one,unit:w.Machines,type:M.Output}),this.router.navigate(["list"],{relativeTo:this.route,queryParamsHandling:"preserve"})}setState(e){e&&this.router.navigate(["list"],{queryParams:this.routerSvc.toParams(e),relativeTo:this.route})}setGame(e){this.setMod(I[e].modId)}setMod(e){this.router.navigate([e])}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=B({type:i,selectors:[["lab-landing"]],standalone:!0,features:[R],decls:5,vars:4,consts:[["addItemPicker",""],["addRecipePicker",""],[1,"position-absolute","bottom-0","mb-3"],[1,"d-flex","flex-column"],[1,"d-flex","justify-content-center"],["src","factoriolab.webp?v=2","height","128","width","128",3,"alt"],[1,"game-info"],[1,"game-name"],[1,"mb-2",3,"innerHTML"],["pButton","","pRipple","","type","button","icon","fa-solid fa-box",3,"click","label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-industry",1,"mt-2",3,"click","label"],[3,"selectId","header"],[1,"p-inputgroup"],["pButton","","pRipple","","type","button","icon","fa-solid fa-clock-rotate-left",1,"mt-2",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-question","routerLink","wizard","queryParamsHandling","preserve",1,"mt-2","p-button-help",3,"label"],["pButton","","pRipple","","type","button","icon","fa-solid fa-forward","routerLink","list","queryParamsHandling","preserve",1,"mt-2","mb-3","p-button-outlined",3,"label"],[3,"onChange","binary","label","ngModel"],[1,"p-inputgroup-addon"],[1,"fa-solid","fa-file-import"],["styleClass","w-100",3,"onChange","placeholder","options"],["pButton","","pRipple","","type","button","icon","fa-solid fa-clock-rotate-left",1,"mt-2",3,"click","label"]],template:function(t,o){t&1&&(x(0,fe,37,41,"p-card")(1,ge,1,0,"p-progressSpinner"),p(2,"span",2),b(3),a(4,"async"),s()),t&2&&(h(o.mod()!=null?0:1),n(3),V(r(4,2,o.contentSvc.version$)))},dependencies:[E,X,J,Q,q,A,z,Z,Y,ae,oe,te,ee,ne,ie,se,pe,le,F,re,D],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;height:100vh}.game-info[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:4px}.game-info[_ngcontent-%COMP%]   .game-name[_ngcontent-%COMP%]{font-size:18px;flex-grow:1}.game-info[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:14px}"],changeDetection:0})}}return i})();export{Qe as LandingComponent};
